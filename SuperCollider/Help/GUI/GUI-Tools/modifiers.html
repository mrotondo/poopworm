<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.46">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Helvetica; min-height: 22.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica}
p.p4 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #007300}
span.s1 {color: #0000bf}
span.s2 {color: #000000}
span.s3 {color: #606060}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><b>Modifier Keys<span class="Apple-tab-span">	</span></b></p>
<p class="p2"><br></p>
<p class="p3">An integer bit field indicating the modifier keys in effect. You can examine individual flag settings using the C bitwise AND operator.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>65536 NSAlphaShiftKeyMask</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Set if Caps Lock key is pressed.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>131072 NSShiftKeyMask</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Set if Shift key is pressed.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>262144 NSControlKeyMask</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Set if Control key is pressed.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>524288 NSAlternateKeyMask</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Set if Option or Alternate key is pressed.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1048576 NSCommandKeyMask</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Set if Command key is pressed.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>2097152 NSNumericPadKeyMask</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Set if any key in the numeric keypad is pressed. The numeric keypad is generally on the right side of the keyboard.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>4194304 NSHelpKeyMask</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Set if the Help key is pressed.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>8388608 NSFunctionKeyMask</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Set if any function key is pressed. The function keys include the F keys at the top of most keyboards (F1, F2, and so on) and the navigation keys in the center of most keyboards (Help, Forward Delete, Home, End, Page Up, Page Down, and the arrow keys).</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>arrow keys have an extra modifier value of 10485760</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>so for a shift arrow key do a bitwise 'or' with the shift mask:</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>10485760 | 131072</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>= 10616832 // this is the mask for shift arrow key</p>
<p class="p4"><br></p>
<p class="p3">Three usage examples, direct and with helper methods</p>
<p class="p3"><span class="Apple-tab-span">	</span><b>isCaps, isShift, isCtrl, isAlt, isCmd, isNumPad, isHelp, isFun</b>:</p>
<p class="p4"><br></p>
<p class="p5">(</p>
<p class="p6">w = <span class="s1">Window</span>.new.front; w.addFlowLayout;</p>
<p class="p7"><br></p>
<p class="p8"><span class="s2"><span class="Apple-tab-span">	</span></span>// direct, using bit field</p>
<p class="p6"><span class="s1">Button</span>(w, <span class="s1">Rect</span>(0,0,390,50)).states_([[<span class="s3">"hold shift/alt keys and click"</span>]])</p>
<p class="p6"><span class="Apple-tab-span">	</span>.action_ { <span class="s1">|but, mod|</span><span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (mod &amp; 131072 == 131072) { <span class="s3">"shift key was pressed."</span>.postln; };</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if (mod &amp; 524288 == 524288) { <span class="s3">"alt key was pressed."</span>.postln; };</p>
<p class="p6"><span class="Apple-tab-span">	</span>};</p>
<p class="p7"><br></p>
<p class="p8"><span class="s2"><span class="Apple-tab-span">	</span></span>// using helper methods</p>
<p class="p6"><span class="s1">Button</span>(w, <span class="s1">Rect</span>(0,0,390,50)).states_([[<span class="s3">"hold any mod keys and click"</span>]])</p>
<p class="p6"><span class="Apple-tab-span">	</span>.action_ { <span class="s1">|but, mod|</span><span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if(mod.isCaps) { <span class="s3">"mod pressed: Caps."</span>.postln };</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if(mod.isShift) { <span class="s3">"mod pressed: Shift."</span>.postln };</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if(mod.isCtrl) { <span class="s3">"mod pressed: Ctrl."</span>.postln };</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if(mod.isAlt) { <span class="s3">"mod pressed: Alt."</span>.postln };</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if(mod.isNumPad) { <span class="s3">"mod pressed: NumPad."</span>.postln };</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if(mod.isHelp) { <span class="s3">"mod pressed: Help."</span>.postln };</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if(mod.isFun) { <span class="s3">"mod pressed: Fun."</span>.postln };</p>
<p class="p6"><span class="Apple-tab-span">	</span>};</p>
<p class="p7"><br></p>
<p class="p8"><span class="s2"><span class="Apple-tab-span">	</span></span>// collecting all modifiers</p>
<p class="p6"><span class="s1">Button</span>(w, <span class="s1">Rect</span>(0,0,390,50)).states_([[<span class="s3">"hold any mod keys and click"</span>]])</p>
<p class="p6"><span class="Apple-tab-span">	</span>.action_ { <span class="s1">|but, mod|</span><span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s1">var</span> pressed;</p>
<p class="p9"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>#[</span>\isCaps<span class="s2">, </span>\isShift<span class="s2">, </span>\isCtrl<span class="s2">, </span>\isAlt<span class="s2">, </span>\isCmd<span class="s2">, </span>\isNumPad<span class="s2">, </span>\isHelp<span class="s2">, </span>\isFun<span class="s2">].do { </span><span class="s1">|x|</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if(mod.perform(x)) { pressed = pressed.add(x) }</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pressed.postln;</p>
<p class="p6"><span class="Apple-tab-span">	</span>};</p>
<p class="p5">)</p>
</body>
</html>
