<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="824.48">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 22.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Monaco; color: #bf0000}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0000bf}
span.s1 {color: #0024f8}
span.s2 {text-decoration: underline}
span.s3 {font: 9.0px Monaco}
span.s4 {color: #0000bf}
span.s5 {color: #000000}
span.s6 {color: #007300}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><b>Gendy2</b></p>
<p class="p2"><br></p>
<p class="p3">See <a href="Gendy1.html"><span class="s1">Gendy1</span></a> help file for background. This variant of GENDYN is closer to that presented in<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3">Hoffmann, Peter. (2000) The New GENDYN Program. Computer Music Journal 24:2, pp 31-38.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3">Technical notes: random walk is of the amplitude and time delta, not the amp and time directly. The amplitude step random walk uses a lehmer style number generator whose parameters are accessible.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3"><b><span class="s2">Class Methods</span></b></p>
<p class="p2"><br></p>
<p class="p3"><b>*ar(ampdist=1, durdist=1, adparam=1.0, ddparam=1.0, minfreq=20, maxfreq=1000, ampscale= 0.5, durscale=0.5, initCPs=12, knum=12, a= 1.17, c=0.31, mul=1.0, add=0.0)</b></p>
<p class="p2"><br></p>
<p class="p3">All parameters can be modulated at control rate except for initCPs which is used only at initialisation.</p>
<p class="p2"><br></p>
<p class="p3"><b>ampdist</b> - Choice of probability distribution for the next perturbation of the amplitude of a control point.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3">The distributions are (adapted from the GENDYN program in Formalized Music):</p>
<p class="p3">0- LINEAR</p>
<p class="p3">1- CAUCHY</p>
<p class="p3">2- LOGIST</p>
<p class="p3">3- HYPERBCOS</p>
<p class="p3">4- ARCSINE</p>
<p class="p3">5- EXPON</p>
<p class="p3">6- SINUS</p>
<p class="p3">Where the sinus (Xenakis' name) is in this implementation taken as sampling from a third party oscillator. See example below.</p>
<p class="p2"><br></p>
<p class="p3"><b>durdist-</b> Choice of distribution for the perturbation of the current inter control point duration.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3"><b>adparam-</b> A parameter for the shape of the amplitude probability distribution, requires values in the range 0.0001 to 1 (there are safety checks in the code so don't worry too much if you want to modulate!)</p>
<p class="p2"><br></p>
<p class="p3"><b>ddparam-</b> A parameter for the shape of the duration probability distribution, requires values in the range 0.0001 to 1</p>
<p class="p2"><br></p>
<p class="p3"><b>minfreq-</b> Minimum allowed frequency of oscillation for the Gendy1 oscillator, so gives the largest period the duration is allowed to take on.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3"><b>maxfreq-</b> Maximum allowed frequency of oscillation for the Gendy1 oscillator, so gives the smallest period the duration is allowed to take on.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3"><b>ampscale-</b> Normally 0.0 to 1.0, multiplier for the distribution's delta value for amplitude. An ampscale of 1.0 allows the full range of<span class="Apple-converted-space">  </span>-1 to 1 for a change of amplitude.</p>
<p class="p2"><br></p>
<p class="p3"><b>durscale-</b> Normally 0.0 to 1.0, multiplier for the distribution's delta value for duration. An ampscale of 1.0 allows the full range of<span class="Apple-converted-space">  </span>-1 to 1 for a change of duration.</p>
<p class="p2"><br></p>
<p class="p3"><b>initCPs-</b> Initialise the number of control points in the memory. Xenakis specifies 12. There would be this number of control points per cycle of the oscillator, though the oscillator's period will constantly change due to the duration distribution.<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3"><b>knum-</b> Current number of utilised control points, allows modulation. <span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3"><b>a-</b> parameter for Lehmer random number generator perturbed by Xenakis as in ((old*a)+c)%1.0</p>
<p class="p2"><br></p>
<p class="p3"><b>c-</b> parameter for Lehmer random number generator perturbed by Xenakis</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><i>Examples</i></p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p5">//warning- if you have lots of CPs and you have fast frequencies, the CPU cost goes up a lot because a new CP move happens every sample!<span class="s3"><span class="Apple-tab-span">	</span></span></p>
<p class="p6"><br></p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p7">//LOUD! defaults like a rougher Gendy1<span class="Apple-tab-span">	</span></p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar)}.play</p>
<p class="p6"><br></p>
<p class="p7">//advantages of messing with the random number generation- causes periodicities</p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar(a:<span class="s4">MouseX</span>.kr(0.0,1.0),c:<span class="s4">MouseY</span>.kr(0.0,1.0)))}.play</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p8">(</p>
<p class="p8">{<span class="s4">Pan2</span>.ar(</p>
<p class="p9">Normalizer<span class="s5">.ar(</span></p>
<p class="p8"><span class="s4">RLPF</span>.ar(</p>
<p class="p8"><span class="s4">RLPF</span>.ar(<span class="s4">Gendy2</span>.ar(a:<span class="s4">SinOsc</span>.kr(0.4,0,0.05,0.05),c:<span class="s4">SinOsc</span>.kr(0.3,0,0.1,0.5)),</p>
<p class="p8"><span class="s4">MouseX</span>.kr(10,10000,<span class="s6">'exponential'</span>),0.05),</p>
<p class="p8"><span class="s4">MouseY</span>.kr(10,10000,<span class="s6">'exponential'</span>),0.05)</p>
<p class="p8">,0.9)</p>
<p class="p8">,<span class="s4">Lag</span>.kr(<span class="s4">LFNoise0</span>.kr(1),0.5))}.play</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar(3,5,1.0,1.0,50,1000,<span class="s4">MouseX</span>.kr(0.05,1),<span class="s4">MouseY</span>.kr(0.05,1),15, 0.05,0.51,mul:0.5))}.play</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">//play me<span class="Apple-tab-span">	</span></p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">RLPF</span>.ar(<span class="s4">Gendy2</span>.ar(1,3,minfreq:20, maxfreq:<span class="s4">MouseX</span>.kr(100,1000), durscale:0.0, initCPs:4), 500,0.3, 0.2), 0.0)}.play</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">//1 CP = random noise effect</p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar(initCPs:1))}.play</p>
<p class="p6"><br></p>
<p class="p7">//2 CPs = suudenly an oscillator (though a fast modulating one here)</p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar(initCPs:2))}.play</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">//used as an LFO<span class="Apple-tab-span">	</span></p>
<p class="p8">(</p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">SinOsc</span>.ar(<span class="s4">Gendy2</span>.kr(2,1,<span class="s4">SinOsc</span>.kr(0.1,0,0.49,0.51),<span class="s4">SinOsc</span>.kr(0.13,0,0.49,0.51), 3.4,3.5, <span class="s4">SinOsc</span>.kr(0.17,0,0.49,0.51), <span class="s4">SinOsc</span>.kr(0.19,0,0.49,0.51),10,10,mul:50, add:350), 0, 0.3), 0.0)}.play</p>
<p class="p8">)</p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p7">//very angry wasp</p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar(0, 0, <span class="s4">SinOsc</span>.kr(0.1, 0, 0.1, 0.9),1.0, 50,1000, 1,0.005, 12, 12, 0.2,0.2,0.2), 0.0)}.play</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">//modulate distributions</p>
<p class="p7">//change of pitch as distributions change the duration structure and spectrum</p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar(<span class="s4">MouseX</span>.kr(0,7),<span class="s4">MouseY</span>.kr(0,7),mul:0.2), 0.0)}.play</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">//modulate num of CPs</p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar(knum:<span class="s4">MouseX</span>.kr(1,13),mul:0.2), 0.0)}.play</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">//Gendy1 into Gendy2...with cartoon side effects</p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar(maxfreq:<span class="s4">Gendy1</span>.kr(5,4,0.3, 0.7, 0.1, <span class="s4">MouseY</span>.kr(0.1,10), 1.0, 1.0, 5,5, 500, 600), knum:<span class="s4">MouseX</span>.kr(1,13),mul:0.2), 0.0)}.play</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">//use SINUS to track any oscillator and take CP positions from it, use adparam and ddparam as the inputs to sample<span class="Apple-converted-space"> </span></p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar(6,6,<span class="s4">LFPulse</span>.kr(100, 0, 0.4, 1.0), <span class="s4">SinOsc</span>.kr(30, 0, 0.5),mul:0.2), 0.0)}.play</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">//try out near the corners especially</p>
<p class="p8">{<span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar(6,6,<span class="s4">LFPulse</span>.kr(<span class="s4">MouseX</span>.kr(0,200), 0, 0.4, 1.0), <span class="s4">SinOsc</span>.kr(<span class="s4">MouseY</span>.kr(0,200), 0, 0.5),mul:0.2), 0.0)}.play</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">//texture- the howling wind?</p>
<p class="p8">(</p>
<p class="p8">{</p>
<p class="p8"><span class="s4">Mix</span>.fill(10,{</p>
<p class="p8"><span class="s4">var</span> freq;</p>
<p class="p6"><br></p>
<p class="p8">freq= rrand(130,160.3);</p>
<p class="p8"><span class="s4">Pan2</span>.ar(<span class="s4">SinOsc</span>.ar(<span class="s4">Gendy2</span>.ar(6.rand,6.rand,<span class="s4">SinOsc</span>.kr(0.1,0,0.49,0.51),<span class="s4">SinOsc</span>.kr(0.13,0,0.49,0.51),freq ,freq, <span class="s4">SinOsc</span>.kr(0.17,0,0.49,0.51), <span class="s4">SinOsc</span>.kr(0.19,0,0.49,0.51), 12, 12, 0.4.rand, 0.4.rand, 200, 400), 0, 0.1), 1.0.rand2)</p>
<p class="p8">});</p>
<p class="p8">}.play</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p7">//CAREFUL! mouse to far right causes explosion of sound</p>
<p class="p8">(</p>
<p class="p8">{<span class="s4">Pan2</span>.ar(</p>
<p class="p9">CombN<span class="s5">.ar(</span></p>
<p class="p9">Resonz<span class="s5">.ar(</span></p>
<p class="p8"><span class="s4">Gendy2</span>.ar(2,3,minfreq:1, maxfreq:<span class="s4">MouseX</span>.kr(10,700), initCPs:100),</p>
<p class="p8"><span class="s4">MouseY</span>.kr(50,1000), 0.1)</p>
<p class="p8">,0.1,0.1,5, 0.16</p>
<p class="p8">)</p>
<p class="p8">, 0.0)}.play</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">//storm</p>
<p class="p8">(</p>
<p class="p8">{</p>
<p class="p8"><span class="s4">var</span> n;</p>
<p class="p8">n=15;</p>
<p class="p6"><br></p>
<p class="p8">0.5*<span class="s4">Mix</span>.fill(n,{</p>
<p class="p8"><span class="s4">var</span> freq, numcps;</p>
<p class="p6"><br></p>
<p class="p8">freq= rrand(130,160.3);</p>
<p class="p8">numcps= rrand(2,20);</p>
<p class="p8"><span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar(6.rand,6.rand,10.0.rand,10.0.rand,freq,freq*exprand(1.0,2.0), 10.0.rand, 10.0.rand, numcps, <span class="s4">SinOsc</span>.kr(exprand(0.02,0.2), 0, numcps/2, numcps/2), 10.0.rand,10.0.rand,0.5/(n.sqrt)), 1.0.rand2)</p>
<p class="p8">});</p>
<p class="p8">}.play</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">//another traffic moment</p>
<p class="p8">(</p>
<p class="p8">{</p>
<p class="p8"><span class="s4">var</span> n;</p>
<p class="p8">n=10;</p>
<p class="p6"><br></p>
<p class="p9">Resonz<span class="s5">.ar(</span></p>
<p class="p8"><span class="s4">Mix</span>.fill(n,{</p>
<p class="p8"><span class="s4">var</span> freq, numcps;</p>
<p class="p6"><br></p>
<p class="p8">freq= rrand(50,560.3);</p>
<p class="p8">numcps= rrand(2,20);</p>
<p class="p8"><span class="s4">Pan2</span>.ar(<span class="s4">Gendy2</span>.ar(6.rand,6.rand,1.0.rand,1.0.rand,freq ,freq, 1.0.rand, 1.0.rand, numcps, <span class="s4">SinOsc</span>.kr(exprand(0.02,0.2), 0, numcps/2, numcps/2), 0.5/(n.sqrt)), 1.0.rand2)</p>
<p class="p8">})</p>
<p class="p8">,<span class="s4">MouseX</span>.kr(100,2000), <span class="s4">MouseY</span>.kr(0.01,1.0), 0.3)</p>
<p class="p8">;</p>
<p class="p8">}.play</p>
<p class="p8">)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">//SuperCollider implementation by Nick Collins</p>
</body>
</html>
