<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="1038.25">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #0000ee}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #cd1612}
p.p9 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p10 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p11 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p12 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica}
p.p13 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #cd1612}
p.p14 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco}
p.p15 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000; min-height: 12.0px}
p.p17 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #cd1612; min-height: 12.0px}
p.p18 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p19 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; color: #0a26c0; min-height: 14.0px}
p.p20 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 13.0px Helvetica; min-height: 16.0px}
p.p21 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #00831c; min-height: 12.0px}
p.p22 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0b28c5}
p.p23 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p24 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Futura; min-height: 15.0px}
p.p25 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #007300}
span.s1 {font: 18.0px Helvetica}
span.s2 {font: 18.0px Futura}
span.s3 {color: #000000}
span.s4 {text-decoration: underline}
span.s5 {color: #0000bf}
span.s6 {color: #0000ee}
span.s7 {color: #0a25b9}
span.s8 {text-decoration: underline ; color: #1032ee}
span.s9 {color: #1135f9}
span.s10 {color: #0a26c0}
span.s11 {color: #0b28c6}
span.s12 {color: #00831b}
span.s13 {color: #cd1612}
span.s14 {font: 12.0px Helvetica; color: #000000}
span.s15 {color: #0b28c5}
span.s16 {font: 12.0px Helvetica}
span.s17 {text-decoration: underline ; color: #0a26c0}
span.s18 {color: #007300}
span.s19 {color: #606060}
span.s20 {color: #bf0000}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>NodeProxy</b></span><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><b>a reference on a server<span class="Apple-converted-space"> </span></b></p>
<p class="p2"><br></p>
<p class="p3"><span class="s3"><b>Inherits from:<span class="Apple-converted-space"> </span></b> <a href="../../../Core/Object.html"><span class="s4">Object</span></a></span><span class="s5"> : <a href="../../../Core/Kernel/AbstractFunction.html"><span class="s6">AbstractFunction</span></a> :</span><span class="s3"> <a href="BusPlug.html"><span class="s4">BusPlug</span></a></span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1">Generally a <b>proxy</b> is a placeholder for something.<span class="Apple-converted-space">  </span>A node proxy is a placeholder for something <b>playing on a server</b> that writes to a limited number of busses (e.g. a synth or an event stream). NodeProxy objects can be replaced and recombined while they play. Also they can be used to build a larger structure which is used and modified later on. Overview: <a href="../JITLib.html"><span class="s7">JITLib</span></a></p>
<p class="p4"><br></p>
<p class="p1">NodeProxy is used internally in <a href="../environments/ProxySpace.html"><span class="s8">ProxySpace</span></a> and it is a superclass of <a href="Ndef.html"><span class="s9">Ndef</span></a>, allowing to easily access and combine a large number of placeholders.</p>
<p class="p4"><br></p>
<p class="p1">Graphical editor for a node proxy: <a href="../extras/NodeProxyEditor.html"><span class="s9">NodeProxyEditor</span></a>.</p>
<p class="p4"><br></p>
<p class="p1"><b>Note:</b><span class="Apple-converted-space">  </span>NodeProxy plays on a <i>private bus. </i>If you want to<b> hear</b> the output, use <b>play</b> and <b>stop</b>.</p>
<p class="p1">To free inner players and stop listen:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>end</b></p>
<p class="p1">Entirely removing all inner settings: <span class="Apple-converted-space">  <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><b>clear</b></p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p1"><b>Further reading:</b></p>
<p class="p3"><span class="s4"><a href="../tutorials/the_lazy_proxy.html">the_lazy_proxy</a></span></p>
<p class="p3"><span class="s4"><a href="../tutorials/jitlib_efficiency.html">jitlib_efficienc</a></span><span class="s8">y</span><span class="s10"><span class="Apple-converted-space"> </span></span></p>
<p class="p3"><span class="s4"><a href="../tutorials/jitlib_fading.html">jitlib_fading</a></span></p>
<p class="p3"><span class="s4"><a href="../tutorials/jitlib_asCompileString.html">jitlib_asCompileString</a></span></p>
<p class="p3"><span class="s4"><a href="NodeProxy_roles.html">NodeProxy_roles</a></span></p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p6"><b>First Example</b></p>
<p class="p4"><br></p>
<p class="p7"><span class="Apple-tab-span">	</span>s.boot;</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="s3"><span class="Apple-tab-span">	</span>a = </span><span class="s11">NodeProxy</span><span class="s3">.new.play; </span>// play to hardware output.</p>
<p class="p8"><span class="s3"><span class="Apple-tab-span">	</span>a.fadeTime = 2; </span>// fadeTime specifies crossfade</p>
<p class="p8"><span class="s3"><span class="Apple-tab-span">	</span></span>// set the source</p>
<p class="p7"><span class="Apple-tab-span">	</span>a.source = { <span class="s11">SinOsc</span>.ar([350, 351.3], 0, 0.2) };</p>
<p class="p7"><span class="Apple-tab-span">	</span>a.source = { <span class="s11">Pulse</span>.ar([350, 351.3] / 4, 0.4) * 0.2 };</p>
<p class="p7"><span class="Apple-tab-span">	</span>a.source = <span class="s11">Pbind</span>(<span class="s12">\dur</span>, 0.03, <span class="s12">\freq</span>, <span class="s11">Pbrown</span>(0, 1, 0.1, <span class="s11">inf</span>).linexp(0, 1, 200, 350));</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span>b = <span class="s11">NodeProxy</span>.new;</p>
<p class="p7"><span class="Apple-tab-span">	</span>a.source = { <span class="s11">Ringz</span>.ar(b.ar, [350, 351.3] * 8, 0.2) * 4 };</p>
<p class="p7"><span class="Apple-tab-span">	</span>b.source = { <span class="s11">Impulse</span>.ar([5, 7]/2, [0, 0.5]) };</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="s3"><span class="Apple-tab-span">	</span>a.clear(3); </span>// clear after 3 seconds</p>
<p class="p7"><span class="Apple-tab-span">	</span>b.clear(3);</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p6"><b>Creation / Class Methods</b></p>
<p class="p9"><br></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>*new(server, rate, numChannels, inputs)</b></p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Return a new instance of NodeProxy.</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>server </b>- The server on which to run and where the bus is allocated (default: Server.default)</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>rate<span class="Apple-converted-space"> </span></b> - If given, proxy is initialized to this rate</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>numChannels<span class="Apple-converted-space"> </span></b> - If given, proxy is initialized to this number of channels</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>inputs<span class="Apple-converted-space"> </span></b> - If given, proxy is initialized with the given inputs as objects on subsequent slots.<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p13"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// new node proxy</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = <span class="s11">NodeProxy</span>(s, <span class="s12">\audio</span>, 4);</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.numChannels;</p>
<p class="p13"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.clear; </span>// remove bus.</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.numChannels; <span class="s13">// nil.</span></p>
<p class="p4"><br></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>*audio(server, numChannels)</b></p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Return a new audio rate NodeProxy of a given number of channels.</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>server </b>- The server on which to run and where the bus is allocated (default: Server.default)</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>numChannels<span class="Apple-converted-space"> </span></b> - If given, proxy is initialized to this number of channels (default: 2)</p>
<p class="p15"><br></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>*control(server, numChannels)</b></p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Return a new control rate NodeProxy of a given number of channels.</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>server </b>- The server on which to run and where the bus is allocated (default: Server.default)</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>numChannels<span class="Apple-converted-space"> </span></b> - If given, proxy is initialized to this number of channels (default: 1)<span class="Apple-tab-span">	</span></p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><b>*for(bus)</b></p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Return a new instance of NodeProxy using a given Bus</p>
<p class="p11"><br></p>
<p class="p11"><br></p>
<p class="p6"><b>Listening to the output</b></p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>play(outbus, numChannels, target, multi, vol, fadeTime, addAction)</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>plays to a bus index (<b>outbus</b>) with a number of channels (<b>numChannels</b>) within a <b>target</b> group, or a server.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>multi</b>: keep old links and add new one</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>vol</b>: volume at which to monitor</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fadeTime</b>: fade in fade out time</p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>playN(outs, amps, ins, vol, fadeTime, group, addAction)</b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>outs<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>array of destination channels</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>amps<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>array of<span class="Apple-converted-space">  </span>amplitudes for each channel</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>outs<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>array of source channels</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>see <a href="playN.html"><span class="s5">playN</span></a></p>
<p class="p4"><br></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>stop(fadeTime)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>stop to play out public channels (private channels keep playing as others might listen still) this stops the monitoring. To stop the objects playing, use <b>free, release</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>fadeTime: </b>decay time for this action</p>
<p class="p4"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>end(fadeTime)</b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>releases the synths and stops playback</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fadeTime: </b>decay time for this action</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>ar(numChannels)</b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>kr(numChannels)</b></p>
<p class="p4"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>return a link to my output, which is limited by [numChannels]</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>causes an uninitialized proxy to create a matching bus.</p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span>normally ar defaults to stereo, kr to mono. this can be set in the classvars:</p>
<p class="p1"><span class="Apple-tab-span">	</span><b>defaultNumAudio, defaultNumControl</b></p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p5"><br></p>
<p class="p6"><b>Setting the source:</b></p>
<p class="p10"><span class="Apple-tab-span">	</span>NodeProxy keeps a number of slots which can be sources and are mixed on the same bus.. The default source is the slot 0. All objects can be exchanged while running, and also before and after. Normally, the source is active immediately. If sources are to be exchanged "quietly", set the node proxy to sleep (awake = false), or use the message prime().</p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p16"><br></p>
<p class="p6"><b>Supported sources:</b></p>
<p class="p16"><span class="Apple-tab-span">	</span></p>
<p class="p16"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="NodeProxy.html"><span class="s9">NodeProxy</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>played by reading from the other node proxie's bus.</p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../../../Core/Kernel/Function.html"><span class="s9">Function</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>interpreted as ugen function, and plays a <a href="../../../ServerArchitecture/Synth.html"><span class="s9">Synth</span></a>, similar to Function.play.</p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../../../Math/SimpleNumber.html"><span class="s9">SimpleNumber</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>write this value to the bus continuously</p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../../../ServerArchitecture/Bus.html"><span class="s9">Bus</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>reads from the bus</p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../../../ServerArchitecture/SynthDef.html"><span class="s9">SynthDef</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>plays a <a href="../../../ServerArchitecture/Synth.html"><span class="s9">Synth</span></a> using the SynthDef. This is useful for triggering.</p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../../../Core/Symbol.html"><span class="s9">Symbol</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>plays a <a href="../../../ServerArchitecture/Synth.html"><span class="s9">Synth</span></a> from the SynthDef with this name. This is useful for triggering.</p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../../../Streams-Patterns-Events/Patterns/Pattern.html"><span class="s9">Pattern</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>played as event pattern (using <a href="../../../Streams-Patterns-Events/Patterns/Pbind.html"><span class="s9">Pbind</span></a> or other event patterns)</p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../../../Streams-Patterns-Events/Stream.html"><span class="s9">Stream</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>played as event stream (a stream returning events)</p>
<p class="p1"><span class="Apple-tab-span">	</span>nil<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="../../../Core/Nil.html"><span class="s9">Nil</span></a> removes all objects.</p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../Patterns/Pdef.html"><span class="s9">Pdef</span></a>, <a href="../Patterns/EventPatternProxy.html"><span class="s9">EventPatternProxy</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>played like a stream</p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../../../Scheduling/Task.html"><span class="s9">Task</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>played, no output is assigned.</p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../Patterns/Tdef.html"><span class="s9">Tdef</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>played like Task</p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../../../Collections/Event.html"><span class="s9">Event</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>played like in a pattern.</p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>Associations</b>:<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span>(\filter -&gt; func)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>filter previous input (with post control)</p>
<p class="p1"><span class="Apple-tab-span">	</span>(\filterIn -&gt; func)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>filter previous input (with pre control)</p>
<p class="p1"><span class="Apple-tab-span">	</span>(\set -&gt; event pattern)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>set controls with the event keys of the pattern</p>
<p class="p1"><span class="Apple-tab-span">	</span>(\setbus -&gt; event pattern)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>set bus with an event pattern. Bus value is the \value key of each event.</p>
<p class="p1"><span class="Apple-tab-span">	</span>(\setsrc -&gt; event pattern)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>set the source with an event pattern. source is the \source key of event.</p>
<p class="p1"><span class="Apple-tab-span">	</span>(\control -&gt; array or number)<span class="Apple-tab-span">	</span>prepare an efficient way to set values by index</p>
<p class="p1"><span class="Apple-tab-span">	</span>(\mix -&gt; func)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>mix audio</p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>crucial library:</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../../crucial/Players/AbstractPlayer.html"><span class="s9">AbstractPlayer</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>started in a separate bus, mapped to this bus</p>
<p class="p1"><span class="Apple-tab-span">	</span><a href="../../crucial/Instr/Instr.html"><span class="s9">Instr</span></a><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>converted to player and started</p>
<p class="p4"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span>Definitions for other sources can be added easily.</p>
<p class="p16"><br></p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p6"><b>Setting the source:</b></p>
<p class="p4"><br></p>
<p class="p11"><br></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>source_(anObject)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Play a new synth through proxy and release/remove any old ones.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>anObject</b> - can be one of the supported inputs <b>(see above)</b></p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>prime(anObject)</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Set source without starting the synth. To start it, <b>send</b> can be used later. Running synths are released and proxy is initialized if still neutral.</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>add(anObject, channelOffset, extraArgs)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Add a new source to the present ones</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>removeAt(index)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Remove the object at index i and its synths, if they exist.</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>removeLast</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Remove the last object and its synths, if they exist.</p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>put(index, obj, channelOffset, extraArgs, now)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Set the source by index. Objects can be inserted at any index, only the order of indices is relevant. Internally, NodeProxy uses an <a href="../../../Collections/Order.html"><span class="s9">Order</span></a> to access the sources.</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>index</b>:<span class="Apple-tab-span">	</span>where the object should be placed in the internal<span class="Apple-converted-space">  </span>order. if <b>-1</b>, all objects are freed</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>obj</b>:<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A valid source (see above).</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>channelOffset</b>: using a multichannel setup it can be useful to set this, when the objects numChannels is smaller than the proxy<span class="Apple-converted-space"> </span></p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>extraArgs</b>: <span class="Apple-tab-span">	</span>Arguments that can be sent with the object directly (not cached)</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>now</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if set to false, only prepare the source and do not start the object (see <b>prime</b>)</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p13"><span class="s14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// put can be used with the array indexing syntax:<span class="Apple-converted-space"> </span></p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = <span class="s11">NodeProxy</span>.new.play;</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a[0] = { <span class="s15">SinOsc</span>.ar(<span class="s15">Rand</span>(200, 899)) * 0.1.dup };</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a[2] = { <span class="s15">SinOsc</span>.ar(<span class="s15">Rand</span>(200, 899)) * 0.1.dup };</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.sources.do(<span class="s15">_</span>.postcs);</p>
<p class="p13"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// using multiple index expands into multiple objects</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a[0..5] = { <span class="s11">SinOsc</span>.ar(<span class="s11">Rand</span>(200, 899)) * 0.1.dup };</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.sources.do(<span class="s11">_</span>.postcs);</p>
<p class="p13"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.send; </span>// exchange synths, using the sources as definitions</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.clear;<span class="Apple-converted-space"> </span></p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>pause</b> - Pause all objects and set proxy to paused</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>resume</b> - <b>I</b>f paused, start all objects<span class="Apple-converted-space"> </span></p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>rebuild</b> - Rebuild all SynthDefs from sources.</p>
<p class="p11"><br></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>orderNodes(nodeProxy, nodeProxy...)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Arrange the order of groups from this to the last. This can be important when external input is filtered in order to <b>minimize latency</b>.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Note that if a <b>parentGroup</b> was provided, the nodes must be in the same parentGroup.</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>proxyA &lt;-- proxyB</b><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Set proxyA source to proxyB and play proxyA. If proxyB was playing, fade it out. This is convenient in the following situation:</p>
<p class="p14"><span class="s16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>b = <span class="s11">NodeProxy</span>.new.play;</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b.source = { <span class="s11">PinkNoise</span>.ar(0.2.dup) };</p>
<p class="p13"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// now I want to filter b through a new proxy.</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = <span class="s11">NodeProxy</span>.new;</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a &lt;-- b; a.source = { <span class="s11">HPF</span>.ar(b.ar, 7000) };</p>
<p class="p14"><span class="s16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>a.source = { <span class="s11">HPF</span>.ar(b.ar, 3000) };<span class="s13">// changing the source</span></p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.clear; b.clear;</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>proxyA &lt;&lt;&gt; proxyB</b><span class="Apple-tab-span">	</span><b>&lt;&lt;&gt; proxyC &lt;&lt;&gt; ...</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Chaining: Map proxyC source to proxyB <b>\in </b>argument, and proxyB to proxyA's in argument.</p>
<p class="p14"><span class="s16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>a = <span class="s11">NodeProxy</span>.new.play;</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.source = { <span class="s11">RLPF</span>.ar(<span class="s12">\in</span>.ar(0!2), [4600, 7000], 0.1) };</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b = <span class="s11">NodeProxy</span>.new.source_ { <span class="s11">Impulse</span>.ar([5, 7] / 2) };</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a &lt;&lt;&gt; b;</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>proxyA &lt;&gt;&gt; proxyB</b><span class="Apple-tab-span">	</span><b>&lt;&gt;&gt; proxyC &lt;&gt;&gt; ...</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Inverse of the above.</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p11"><br></p>
<p class="p18"><b>Release and cleaning up:</b></p>
<p class="p11"><br></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>free(fadeTime)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Release all running synths and the group. If patterns are playing, stop them.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fadeTime: </b>decay time for this action</p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>release(fadeTime)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>release running synths. If patterns are playing, stop them.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fadeTime: </b>decay time for this action</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>clear(fadeTime)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>reset everything to nil, neutralizes rate/numChannels</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if a fadeTime is given, first fade out, then clear.</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p18"><b>Accessing Instance and Class Variables</b></p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>sources<span class="Apple-tab-span">	</span></b>Returns an array of all sources</p>
<p class="p10"><span class="Apple-tab-span">	</span><b>source</b><span class="Apple-tab-span">	</span>Returns the first source.</p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>server</b><span class="Apple-tab-span">	</span>The node proxy's server (a <a href="../../../ServerArchitecture/Server.html"><span class="s9">Server</span></a>).</p>
<p class="p10"><b><span class="Apple-tab-span">	</span>bus</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The node proxy's private bus (a <a href="../../../ServerArchitecture/Bus.html"><span class="s9">Bus</span></a>). Because it has a private bus, it is not audible directly - monitoring it by (.play or playN) routs it to the hardware output channels.</p>
<p class="p10"><span class="Apple-tab-span">	</span><b>rate</b> - The bus rate (default: nil) The rate and number of channels is determined either when the instance is created (.control/.audio) or by lazy initialisation from the first source (see <a href="../tutorials/the_lazy_proxy.html"><span class="s17">the_lazy_proxy</span></a><span class="s17">)</span><span class="Apple-converted-space"> </span></p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>numChannels</b> - The bus numChannels (default: nil)</p>
<p class="p10"><span class="Apple-tab-span">	</span><b>isNeutral</b> - true if the proxy has no initialized bus.</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>group</b><span class="Apple-tab-span">	</span>The node proxy's group (a <a href="../../../ServerArchitecture/Group.html"><span class="s9">Group</span></a>). This is maintained by the proxy and serves as a context in which all synths are placed.</p>
<p class="p10"><span class="Apple-tab-span">	</span><b>parentGroup</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>parentGroup_<span class="Apple-tab-span">	</span></b>Access the parentGroup (default: nil), which can be set to run the proxy's group in another group. This group has to be maintained (kept playing etc.) externally.</p>
<p class="p4"><br></p>
<p class="p11"><br></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>clock_</b><span class="Apple-tab-span">	</span>A clock, which can be set to account for different timing schemes, such as beat accurate replacement of sources.</p>
<p class="p10"><span class="Apple-tab-span">	</span><b>quant_</b><span class="Apple-tab-span">	</span>A quant value, to specify quantizes replacement of sources. Compatible with the general use of quant in SuperCollider.</p>
<p class="p10"><span class="Apple-tab-span">	</span><b>quantize(... proxies)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Synchronize the proxies by resending and adjusting to quant.<span class="Apple-tab-span">	</span></p>
<p class="p11"><br></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>monitor</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>monitor_<span class="Apple-tab-span">	</span></b>Access the Monitor object, which plays back the output of the proxy's private bus.</p>
<p class="p10"><span class="Apple-tab-span">	</span><b>loaded</b><span class="Apple-tab-span">	</span>Returns true if the object has been initialized on the server, e.g. a synthDef has been stored.</p>
<p class="p10"><span class="Apple-tab-span">	</span><b>paused</b><span class="Apple-tab-span">	</span>Returns true if the processes are paused.</p>
<p class="p10"><span class="Apple-tab-span">	</span><b>awake_</b><span class="Apple-tab-span">	</span>If set to false (default: true), a change of the source does not start a new synth immediately. This is useful when synths are triggered by <b>spawn</b>, and a change of sound should not duplicate sends.</p>
<p class="p11"><br></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>fadeTime_(time)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>set the crossfade time. See:<span class="Apple-converted-space"> </span><span class="s10"> <a href="../tutorials/jitlib_fading.html"><span class="s8">jitlib_fading</span></a>.</span></p>
<p class="p19"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p19"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>*defaultNumAudio_</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>*defaultNumControl_</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>set the default channel number for audio/control busses</p>
<p class="p11"><br></p>
<p class="p11"><br></p>
<p class="p11"><br></p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p18"><b>Setting synth controls</b></p>
<p class="p11"><br></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>set(key, val, ...)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>NodeProxy behaves like its nodeMap (<a href="NodeMap.html"><span class="s9">NodeMap</span></a>)</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>set</b>,<span class="Apple-converted-space"> </span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>setn</b>,<span class="Apple-converted-space"> </span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>unset</b>,<span class="Apple-converted-space"> </span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>unmap</b></p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>map(key(s), proxy,<span class="Apple-converted-space">  </span>key(s), proxy, .... )</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Map the arguments in keys to the subsequent channels of another proxy<span class="Apple-converted-space">  </span>(keys can be a symbol or a number)</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If the proxy has <b>multiple channels</b>, subsequent channels of the control, if present, are mapped. Note<span class="Apple-converted-space">  </span>that you should not map to more channels than the control has.</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>setn(key, list, ...)</b><span class="Apple-converted-space"> </span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>set ranges of controls</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>run(flag)</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pause/unpause all synths in the group</p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>xset(key, val, ...)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>set with crossfade into new setting</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span>x<b>map(keys, proxy)</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>map with crossfade into new setting</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>xsetn()</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>untested</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>lag(key, val, ...)<span class="Apple-tab-span">	</span></b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>set the lag values of these args (identical to setRates)</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>to remove these settings, use: <b>lag(\key1, nil, key2, nil, ...)</b></p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>setRates(key, rate1, ...)</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>set the default rate (\tr, \ir, numerical) for synthDef arg</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>rate of <b>nil</b> removes setting</p>
<p class="p11"><br></p>
<p class="p11"><br></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>controlNames(except)</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Returns the <a href="../../../UGens/Synth control/ControlName.html"><span class="s9">ControlName</span></a> objects of all slots, <b>except</b> the names of this list (default: [\out, \i_out, \gate, \fadeTime], which are used internally).</p>
<p class="p19"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s10"><span class="Apple-tab-span">	</span></span><b>controlKeys(except, noInternalKeys)</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Returns the keys (symbols) of all control names objects of all slots, <b>except</b> the names of this list.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(default: none). If <b>noInternalKeys</b> is true (default: true), it ignores the keys<span class="Apple-converted-space">  </span>[\out, \i_out, \gate, \fadeTime].</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>getKeysValues(keys, except, withDefaults = true, noInternalKeys = true)</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Get all key value pairs from both NodeMap (the settings) and default arguments.</p>
<p class="p19"><br></p>
<p class="p10"><span class="s10"><span class="Apple-tab-span">	</span></span><b>controlKeysValues(keys, except)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Get all key value pairs from default arguments.</p>
<p class="p19"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p11"><br></p>
<p class="p11"><br></p>
<p class="p18"><b>Bus-like behaviour:</b></p>
<p class="p10">In some ways, Node Proxy behaves like a <a href="../../../ServerArchitecture/Bus.html"><span class="s9">Bus</span></a>:</p>
<p class="p20"><br></p>
<p class="p11"><br></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>line(value, dur)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>set my bus to the new value in dur time linearly</p>
<p class="p10"><span class="Apple-tab-span">	</span>x<b>line(value, dur)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>set my bus to the new value in dur time exponentially</p>
<p class="p10"><span class="Apple-tab-span">	</span><b>gate(value, dur)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>gate my bus to the level value for dur time</p>
<p class="p11"><br></p>
<p class="p11"><br></p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p18"><b>Sending synths to server</b></p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span>send(extraArgs, index, freeLast)</b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Send a new synth without releasing the old one. If the source is a stream or a pattern, it starts a new one.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>extraArgs:</b> Arguments used to set the synth. the argument list is applied to the synth only.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>index</b>:<span class="Apple-tab-span">	</span>What slot to send a new synth with. If nil, uses all. (default: nil)</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>freeLast</b>: if to free the last synth at that index or not (default: true)</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>sendAll(extraArgs, freeLast)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Send all synths, or restart all objects.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>extraArgs:</b> Arguments used to set the synth. the argument list is applied to the synth only.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>freeLast</b>: if to free the last synth at that index or not (default: true)</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>sendEach(extraArgs, freeLast)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Like send, just iterating seperately over the objects.</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>wakeUp<span class="Apple-converted-space"> </span></b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Until the proxy is not used by any output ( either .play or .ar/.kr ) it is not running on the server. you can wake it up to force it playing. Normally this is not needed.</p>
<p class="p11"><br></p>
<p class="p10"><span class="Apple-tab-span">	</span><b>record(path, headerFormat, sampleFormat)</b></p>
<p class="p10"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>record output to file (returns a [RecNodeProxy] that you can use for control)</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>returns a [RecNodeProxy]</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p11"><br></p>
<p class="p1"><b>GUI</b></p>
<p class="p4"><br></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>edit<span class="Apple-converted-space"> </span></b></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Returns a new instance of <a href="../extras/NodeProxyEditor.html"><span class="s9">NodeProxyEditor</span></a> for this proxy.<span class="Apple-converted-space"> </span></p>
<p class="p21"><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="s13"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>a = <span class="s11">NodeProxy</span>.new;</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.edit;</p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p22"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.source = { </span>|freq = 440, rate = 2|<span class="s3"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s15">SinOsc</span>.ar(freq * [1, 1.625]) * <span class="s15">SinOsc</span>.kr(rate).max(0) * 0.2<span class="Apple-converted-space"> </span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>);</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p11"><br></p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p18"><b>Examples</b></p>
<p class="p20"><br></p>
<p class="p10"><b>For more, see </b><a href="../environments/ProxySpace.html"><span class="s5"><b>ProxySpace</b></span></a><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p23">///////////////////// using node proxy with ugen functions<span class="Apple-converted-space">  </span>/////////////////////<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p7">s.boot;</p>
<p class="p2"><br></p>
<p class="p7">a = <span class="s5">NodeProxy</span>.audio(s, 2);</p>
<p class="p23"><span class="s3">a.play; </span>// play to hardware output, return a group with synths</p>
<p class="p2"><br></p>
<p class="p23">// setting the source</p>
<p class="p7">a.source = { <span class="s5">SinOsc</span>.ar([350, 351.3], 0, 0.2) };</p>
<p class="p2"><br></p>
<p class="p23">// the proxy has two channels now:</p>
<p class="p7">a.numChannels.postln;</p>
<p class="p7">a.source = { <span class="s5">SinOsc</span>.ar([390, 286] * 1.2, 0, 0.2) };</p>
<p class="p2"><br></p>
<p class="p23">// exeeding channels wrap:</p>
<p class="p7">a.source = { <span class="s5">SinOsc</span>.ar([390, 286, 400, 420, 300] * 1.2, 0, 0.2) };</p>
<p class="p2"><br></p>
<p class="p23">// other inputs</p>
<p class="p7">a.source = { <span class="s5">WhiteNoise</span>.ar([0.01,0.01]) };</p>
<p class="p7">a.source = 0;</p>
<p class="p23"><span class="s3">a.source = </span><span class="s18">\default</span><span class="s3">; </span>// synthDef on server</p>
<p class="p7">a.source = <span class="s5">SynthDef</span>(<span class="s19">"w"</span>, { <span class="s5">arg</span> out=0; <span class="s5">Out</span>.ar(out,<span class="s5">SinOsc</span>.ar([<span class="s5">Rand</span>(430, 600), 600], 0, 0.2)) });</p>
<p class="p23"><span class="s3">a.source = </span><span class="s5">nil</span><span class="s3">; </span>//<span class="Apple-converted-space">  </span>removes any object</p>
<p class="p2"><br></p>
<p class="p23">// feedback</p>
<p class="p7">a.source = { <span class="s5">SinOsc</span>.ar(a.ar * 7000 * <span class="s5">LFNoise1</span>.kr(1, 0.3, 0.6) + 200, 0, 0.1) };</p>
<p class="p7">a.source = { <span class="s5">SinOsc</span>.ar(a.ar * 6000 * <span class="s5">MouseX</span>.kr(0, 2) + [100, 104], 0, 0.1) };</p>
<p class="p2"><br></p>
<p class="p23">// fadeTime</p>
<p class="p7">a.fadeTime = 2.0;</p>
<p class="p7">a.source = { <span class="s5">SinOsc</span>.ar([390, 286] * <span class="s5">ExpRand</span>(1, 3), 0, 0.2) };</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p23">// adding nodes</p>
<p class="p7">a.add({ <span class="s5">SinOsc</span>.ar([50, 390]*1.25, 0, 0.1) });</p>
<p class="p7">a.add({ <span class="s5">BrownNoise</span>.ar([0.02,0.02]) });</p>
<p class="p2"><br></p>
<p class="p23">// setting nodes at indices:</p>
<p class="p7">a[0] = { <span class="s5">SinOsc</span>.ar( 700 * <span class="s5">LFNoise1</span>.kr(1, 0.3, 0.6) + 200, 0, 0.1) };</p>
<p class="p7">a[1] = { <span class="s5">LFPulse</span>.kr(3, 0.3) * <span class="s5">SinOsc</span>.ar(500, 0, 0.1) };</p>
<p class="p7">a[2] = { <span class="s5">LFPulse</span>.kr(3.5, 0.3) * <span class="s5">SinOsc</span>.ar(600, 0, 0.1) };</p>
<p class="p7">a[3] = { <span class="s5">SinOsc</span>.ar([1,1.25] * 840, 0, 0.1) };</p>
<p class="p2"><br></p>
<p class="p23">// filtering: the first argument is the previous bus content. more args can be used as usual.</p>
<p class="p7">a[3] = <span class="s18">\filter</span> -&gt; { <span class="s5">arg</span> in; in * <span class="s5">SinOsc</span>.ar(<span class="s5">Rand</span>(100,1000)) };</p>
<p class="p7">a[2] = <span class="s18">\filter</span> -&gt; { <span class="s5">arg</span> in; in * <span class="s5">MouseY</span>.kr(0,1) };</p>
<p class="p7">a[8] = <span class="s18">\filter</span> -&gt; { <span class="s5">arg</span> in; in * <span class="s5">MouseX</span>.kr(0,1) };</p>
<p class="p7">a[4] = <span class="s18">\filter</span> -&gt; { <span class="s5">arg</span> in; in * <span class="s5">SinOsc</span>.ar(<span class="s5">ExpRand</span>(1,5)).max(0) };</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p23">// setting controls</p>
<p class="p7">a.fadeTime = 2.0;</p>
<p class="p7">a.source = { <span class="s5">arg</span> f=400; <span class="s5">SinOsc</span>.ar(f * [1,1.2] * rrand(0.9, 1.1), 0, 0.1) };</p>
<p class="p7">a.set(<span class="s18">\f</span>, rrand(900, 300));</p>
<p class="p7">a.set(<span class="s18">\f</span>, rrand(1500, 700));</p>
<p class="p7">a.xset(<span class="s18">\f</span>, rrand(1500, 700)); <span class="s20">// crossfaded setting</span></p>
<p class="p7">a.source = { <span class="s5">arg</span> f=400; <span class="s5">RLPF</span>.ar(<span class="s5">Pulse</span>.ar(f * [1,1.02] * 0.05, 0.5, 0.2), f * 0.58, 0.2) };</p>
<p class="p2"><br></p>
<p class="p23">// control lags</p>
<p class="p23"><span class="s3">a.lag(</span><span class="s18">\f</span><span class="s3">, 0.5); </span>// the objects are built again internally and sent to the server.</p>
<p class="p7">a.set(<span class="s18">\f</span>, rrand(1500, 700));</p>
<p class="p7">a.lag(<span class="s18">\f</span>, <span class="s5">nil</span>);</p>
<p class="p7">a.set(<span class="s18">\f</span>, rrand(1500, 700));</p>
<p class="p2"><br></p>
<p class="p7">a.fadeTime = 1.0;</p>
<p class="p2"><br></p>
<p class="p23">// mapping controls to other node proxies</p>
<p class="p2"><br></p>
<p class="p7">c = <span class="s5">NodeProxy</span>.control(s, 2);</p>
<p class="p7">c.source = { <span class="s5">SinOsc</span>.kr([10,20] * 0.1, 0, 150, 1300) };</p>
<p class="p7">a.map(<span class="s18">\f</span>, c);</p>
<p class="p7">a[0] = { <span class="s5">arg</span> f=400; <span class="s5">RHPF</span>.ar(<span class="s5">Pulse</span>.ar(f * [1,1.2] * 0.05, 0.5, 0.2), f * 0.58, 0.2) };</p>
<p class="p7">c.source = { <span class="s5">SinOsc</span>.kr([10,16] * 0.02, 0, 50, 700) };</p>
<p class="p7">c.source = { <span class="s5">Line</span>.kr(300, 1500, 10) + <span class="s5">SinOsc</span>.kr(20 * [1,2], 0, 100) };</p>
<p class="p7">a[1] = { <span class="s5">arg</span> f; <span class="s5">LFPar</span>.ar(f % <span class="s5">MouseX</span>.kr(1, 40, 1) * 4 + 360, 0, 0.2) };</p>
<p class="p2"><br></p>
<p class="p23">// map multiple channels of one proxy to multiple controls of another</p>
<p class="p23">// recently changed behaviour!</p>
<p class="p2"><br></p>
<p class="p7">a.source = { <span class="s5">arg</span> f=#[400, 400]; <span class="s5">LPF</span>.ar(<span class="s5">Pulse</span>.ar(f[0] * [0.4,1], 0.2, 0.2), f[1] * 3) };</p>
<p class="p23"><span class="s3">a.map(</span><span class="s18">\f</span><span class="s3">, c); </span>// multichannel proxy c is mapped to multichannel control of a</p>
<p class="p7">a.source = { <span class="s5">arg</span> f=#[400, 400]; <span class="s5">LPF</span>.ar(<span class="s5">Pulse</span>.ar(f, 0.2, 0.2), f[1]) };</p>
<p class="p7">a.source = { <span class="s5">arg</span> f=#[400, 400]; <span class="s5">Formant</span>.ar(140, f * 1.5, 100, 0.1)<span class="Apple-converted-space">  </span>};</p>
<p class="p7">c.source = { <span class="s5">SinOsc</span>.kr([<span class="s5">Line</span>.kr(1, 30, 10), 1], 0, [100, 700], [300, 700]) };</p>
<p class="p7">c.source = 400;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p7">c.fadeTime = 5.5;</p>
<p class="p7">c.source = { <span class="s5">LFNoise0</span>.kr([2.3, 1.0], [100, 700], [300, 1700]) };</p>
<p class="p7">c.source = { <span class="s5">SinOsc</span>.kr([2.3, 1.0], 0, [100, 700], [300, 1700]) };</p>
<p class="p7">c.source = 400;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p23">// behave like a sc2 plug</p>
<p class="p7">c.gate(1400, 0.1);</p>
<p class="p7">c.gate(1000, 0.1);</p>
<p class="p7">c.line(1000, 1);</p>
<p class="p2"><br></p>
<p class="p23">// direct access</p>
<p class="p7">a.lineAt(<span class="s18">\f</span>, 300, 2);</p>
<p class="p7">a.xlineAt(<span class="s18">\f</span>, 600, 0.3);</p>
<p class="p7">a.gateAt(<span class="s18">\f</span>, 1600, 0.3);</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p23">// changing nodeMaps</p>
<p class="p7">a.unmap(<span class="s18">\f</span>);</p>
<p class="p7">n = a.nodeMap.copy;</p>
<p class="p7">n.set(<span class="s18">\f</span>, 700);</p>
<p class="p7">a.fadeToMap(n);</p>
<p class="p7">n = a.nodeMap.copy;</p>
<p class="p7">n.set(<span class="s18">\f</span>, 400);</p>
<p class="p7">a.fadeTime = 1.0;</p>
<p class="p23"><span class="s3">a.fadeToMap(n, [</span><span class="s18">\f</span><span class="s3">]); </span>// linear interpolation to new map: experimental</p>
<p class="p23"><span class="s3">a.map(</span><span class="s18">\f</span><span class="s3">, c); </span>// restore mapping</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p23">// sending envelopes (up to 8 levels)</p>
<p class="p7">w = <span class="s5">Env</span>.new(<span class="s5">Array</span>.rand(3, 400, 1000),<span class="s5">Array</span>.rand(2, 0.3, 0.001), -4);</p>
<p class="p7">c.env(w);</p>
<p class="p7">c.env(w);</p>
<p class="p7">w = <span class="s5">Env</span>.new(<span class="s5">Array</span>.rand(8, 400, 1000),<span class="s5">Array</span>.rand(7, 0.03, 0.1));</p>
<p class="p7">c.env(w);</p>
<p class="p7">c.env(w);</p>
<p class="p2"><br></p>
<p class="p23">// stop synthesis, then wake up proxies:</p>
<p class="p2"><br></p>
<p class="p23"><span class="s3">a.stop; </span>// stop the monitor</p>
<p class="p23"><span class="s3">a.play; </span>// start the monitor</p>
<p class="p23"><span class="s3">a.end;<span class="Apple-tab-span">	</span></span>// release the synths and stop the monitor</p>
<p class="p23"><span class="s3">c.free;<span class="Apple-converted-space">  </span></span>// free the control proxy c</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p23">///////////////////// channel offset/object index<span class="Apple-converted-space">  </span>/////////////////////<span class="Apple-converted-space"> </span></p>
<p class="p24"><br></p>
<p class="p2"><br></p>
<p class="p7">a = <span class="s5">NodeProxy</span>.audio(s,2);</p>
<p class="p7">a.play;</p>
<p class="p7">a[0] = { <span class="s5">Ringz</span>.ar(<span class="s5">Impulse</span>.ar(5, 0, 0.1), 1260) };</p>
<p class="p7">a.put(1, { <span class="s5">Ringz</span>.ar(<span class="s5">Impulse</span>.ar(5.3, 0, 0.1), 420) }, 1);</p>
<p class="p7">a.put(0, { <span class="s5">Ringz</span>.ar(<span class="s5">Dust</span>.ar([1,1]*15.3,<span class="Apple-converted-space">  </span>0.1), 720) }, 1);</p>
<p class="p7">a.put(1, { <span class="s5">Ringz</span>.ar(<span class="s5">Impulse</span>.ar(5.3, 0, 0.1), 420) }, 1);</p>
<p class="p7">a.end;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p23">///////////////////// beat accurate playing<span class="Apple-converted-space">  </span>/////////////////////<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p24"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p7">a = <span class="s5">NodeProxy</span>.audio(s,2);</p>
<p class="p7">a.play;</p>
<p class="p2"><br></p>
<p class="p7">a.clock = <span class="s5">TempoClock</span>(2.0).permanent_(<span class="s5">true</span>); <span class="s20">// round to every 2.0 seconds</span></p>
<p class="p7">a.source = { <span class="s5">Ringz</span>.ar(<span class="s5">Impulse</span>.ar(0.5, 0, 0.3), 3000, 0.01) };</p>
<p class="p7">a[1] = { <span class="s5">Ringz</span>.ar(<span class="s5">Impulse</span>.ar([0.5, 1], 0, 0.3), 1000, 0.01) };</p>
<p class="p7">a[2] = { <span class="s5">Ringz</span>.ar(<span class="s5">Impulse</span>.ar([3, 5]/2, 0, 0.3), 8000, 0.01) };</p>
<p class="p7">a[3] = { <span class="s5">Ringz</span>.ar(<span class="s5">Impulse</span>.ar([3, 5]*16, 0, 0.3), 5000, 0.01) * <span class="s5">LFPulse</span>.kr(0.5, 0, 0.05) };</p>
<p class="p2"><br></p>
<p class="p7">a.removeLast;</p>
<p class="p7">a.removeAt(2);</p>
<p class="p2"><br></p>
<p class="p7">a.clear;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p23">///////////////////// using patterns - event streams<span class="Apple-converted-space">  </span>/////////////////////<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p7">(</p>
<p class="p23">// must have 'out' or 'i_out' argument to work properly</p>
<p class="p7"><span class="s5">SynthDef</span>(<span class="s19">"who"</span>, { <span class="s5">arg</span> freq, gate=1, out=0, ffreq=800, amp=0.1;<span class="Apple-converted-space"> </span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="s5">var</span> env;</p>
<p class="p7"><span class="Apple-tab-span">	</span>env = <span class="s5">Env</span>.asr(0.01, amp, 0.5);</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="s5">Out</span>.ar(out, <span class="s5">Pan2</span>.ar(</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">Formant</span>.ar(freq, ffreq, 300, <span class="s5">EnvGen</span>.kr(env, gate, doneAction:2)), <span class="s5">Rand</span>(-1.0, 1.0))</p>
<p class="p7"><span class="Apple-tab-span">	</span>)</p>
<p class="p7">}).add;</p>
<p class="p2"><br></p>
<p class="p7">)</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p7">(</p>
<p class="p7">s.boot;</p>
<p class="p7">a = <span class="s5">NodeProxy</span>.audio(s, 2);</p>
<p class="p7">a.fadeTime = 2;</p>
<p class="p7">b = <span class="s5">NodeProxy</span>.audio(s,2);</p>
<p class="p7">b.fadeTime = 3;</p>
<p class="p7">)</p>
<p class="p2"><br></p>
<p class="p23"><span class="s3">a.play; </span>// monitor output</p>
<p class="p2"><br></p>
<p class="p23">// play the pattern silently in b</p>
<p class="p7">b.source = <span class="s5">Pbind</span>(<span class="s18">\instrument</span>, <span class="s18">\who</span>, <span class="s18">\freq</span>, 500, <span class="s18">\ffreq</span>, 700, <span class="s18">\legato</span>, 0.02);</p>
<p class="p2"><br></p>
<p class="p23">// play b out through a:</p>
<p class="p7">a.source = b;</p>
<p class="p2"><br></p>
<p class="p23">// filter b with ring modulation:</p>
<p class="p7">a.source = {<span class="Apple-converted-space">  </span>b.ar<span class="Apple-converted-space">  </span>* <span class="s5">SinOsc</span>.ar(<span class="s5">SinOsc</span>.kr(0.2, 300, 330))<span class="Apple-converted-space">  </span>}; <span class="s20">// filter the input of the pattern</span></p>
<p class="p7">a.source = {<span class="Apple-converted-space">  </span>b.ar * <span class="s5">LFCub</span>.ar([2, 8], add: -0.5)<span class="Apple-converted-space">  </span>}; <span class="s20">// filter the input of the pattern</span></p>
<p class="p2"><br></p>
<p class="p7">a.source = b;</p>
<p class="p2"><br></p>
<p class="p23">// map b to another proxy</p>
<p class="p7">c = <span class="s5">NodeProxy</span>.control(s, 1).fadeTime_(1);</p>
<p class="p7">c.source = { <span class="s5">SinOsc</span>.kr(2, 0, 400, 700) };</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p23">// now one can simply embed a control node proxy into an event pattern.</p>
<p class="p23">// (this works not for \degree, \midinote, etc.)</p>
<p class="p23">// embedding in other patterns it will still return itself.</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p7">b.source = <span class="s5">Pbind</span>(<span class="s18">\instrument</span>, <span class="s18">\who</span>, <span class="s18">\freq</span>, 500, <span class="s18">\ffreq</span>, c, <span class="s18">\legato</span>, 0.02);</p>
<p class="p2"><br></p>
<p class="p7">c.source = { <span class="s5">SinOsc</span>.kr(<span class="s5">SinOsc</span>.kr(0.2, 0, 10, 10), 0, 400, 700) };</p>
<p class="p2"><br></p>
<p class="p7">c.source = { <span class="s5">LFNoise1</span>.kr(5, 1300, 1500) };</p>
<p class="p7">c.source = { <span class="s5">MouseX</span>.kr(100, 5500, 1) };</p>
<p class="p2"><br></p>
<p class="p7">(</p>
<p class="p7">b.source = <span class="s5">Pbind</span>(</p>
<p class="p25"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>\instrument<span class="s3">, </span>\who<span class="s3">,<span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s18">\freq</span>, <span class="s5">Pseq</span>([600, 350, 300],<span class="s5">inf</span>),</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s18">\legato</span>, 0.1,</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s18">\ffreq</span>, <span class="s5">Pseq</span>([c, 100, c, 100, 300, 600], <span class="s5">inf</span>), <span class="s20">// use proxy in a pattern</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s18">\dur</span>, <span class="s5">Pseq</span>([1, 0.5, 0.75, 0.25] * 0.4, <span class="s5">inf</span>),</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s18">\amp</span>, <span class="s5">Pseq</span>([0.2, 0.2, 0.1, 0.1, 0.2], <span class="s5">inf</span>)</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>);</p>
<p class="p7">)</p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p7">b[2] = <span class="s5">Pbind</span>(<span class="s18">\instrument</span>, <span class="s18">\who</span>, <span class="s18">\freq</span>, 620, <span class="s18">\ffreq</span>, <span class="s5">Prand</span>([500,c],<span class="s5">inf</span>), <span class="s18">\legato</span>, 0.1, <span class="s18">\dur</span>, 0.1);</p>
<p class="p7">b[3] = <span class="s5">Pbind</span>(<span class="s18">\instrument</span>, <span class="s18">\who</span>, <span class="s18">\ffreq</span>, 5000, <span class="s18">\freq</span>, <span class="s5">Pseq</span>([720, 800],<span class="s5">inf</span>), <span class="s18">\legato</span>, 0.1, <span class="s18">\dur</span>, 0.1, <span class="s18">\amp</span>, 0.01);</p>
<p class="p7">b[4] = <span class="s5">Pbind</span>(<span class="s18">\instrument</span>, <span class="s18">\who</span>, <span class="s18">\freq</span>, <span class="s5">Pseq</span>([700, 400],<span class="s5">inf</span>), <span class="s18">\legato</span>, 0.1, <span class="s18">\ffreq</span>, 200);</p>
<p class="p7">b[1] = { <span class="s5">WhiteNoise</span>.ar([0.01,0.01]) };<span class="Apple-converted-space"> </span></p>
<p class="p7">b[4] = { <span class="s5">arg</span> ffreq=800; <span class="s5">Resonz</span>.ar(<span class="s5">WhiteNoise</span>.ar([1,1]), ffreq, 0.05) };<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p23"><span class="s3">b.map(</span><span class="s18">\ffreq</span><span class="s3">, c); </span>// map the control to the proxy</p>
<p class="p7">b.removeLast;</p>
<p class="p7">b.removeLast;</p>
<p class="p7">a.source = {<span class="Apple-converted-space">  </span>b.ar * <span class="s5">WhiteNoise</span>.ar(0.1, 1)<span class="Apple-converted-space">  </span>};<span class="Apple-converted-space"> </span></p>
<p class="p7">a.source = {<span class="Apple-converted-space">  </span>b.ar * <span class="s5">WhiteNoise</span>.ar(0.1, 1) + (b.ar * <span class="s5">SinOsc</span>.ar(<span class="s5">SinOsc</span>.kr(0.01, 0, 50, 330)))<span class="Apple-converted-space">  </span>};<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p7">c.source = { <span class="s5">XLine</span>.kr(1900, 10, 10) };</p>
<p class="p2"><br></p>
<p class="p23"><span class="s3">a.clear(10); b.clear(10); c.clear(10); </span>// fade out and clear all (free bus, group and synths)</p>
<p class="p2"><br></p>
</body>
</html>
