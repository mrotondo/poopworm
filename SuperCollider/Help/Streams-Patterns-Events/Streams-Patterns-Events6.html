<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="824.44">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Helvetica; min-height: 22.0px}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Helvetica}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0000bf}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Monaco; min-height: 16.0px}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #0000ff}
span.s1 {color: #000000}
span.s2 {color: #0000bf}
span.s3 {color: #007300}
span.s4 {color: #bf0000}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><br></p>
<p class="p2"><b>Understanding Streams, Patterns and Events - Part 6</b></p>
<p class="p1"><br></p>
<p class="p2"><b>Parallel Patterns</b></p>
<p class="p3"><br></p>
<p class="p4"><b>Ppar</b></p>
<p class="p3"><br></p>
<p class="p5">The <b>Ppar</b> pattern allows you to merge multiple event streams to play in parallel.</p>
<p class="p3"><br></p>
<p class="p5">Ppar is a ListPattern and so like most ListPatterns it takes two arguments, a <b>list</b> of event patterns to play in parallel and a <b>repeats</b> count.</p>
<p class="p3"><br></p>
<p class="p5">Ppar's child patterns must be event patterns. Using value patterns in a Ppar is an error because value patterns contain no duration data.</p>
<p class="p3"><br></p>
<p class="p5">A Ppar is done when all of its subpatterns are done.</p>
<p class="p3"><br></p>
<p class="p6">(</p>
<p class="p7">Ppar<span class="s1">([</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="s2">Pbind</span>(<span class="s3">\dur</span>, 0.2, <span class="s3">\midinote</span>, <span class="s2">Pseq</span>([62, 65, 69, 72], <span class="s2">inf</span>)),</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="s2">Pbind</span>(<span class="s3">\dur</span>, 0.4, <span class="s3">\midinote</span>, <span class="s2">Pseq</span>([50, 45], <span class="s2">inf</span>))</p>
<p class="p6">]).play</p>
<p class="p6">)</p>
<p class="p8"><br></p>
<p class="p8"><br></p>
<p class="p6">(</p>
<p class="p9">// Ppars can be nested</p>
<p class="p7">Ppar<span class="s1">([</span></p>
<p class="p7"><span class="s1"><span class="Apple-tab-span">	</span></span>Pbind<span class="s1">(</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\dur</span>, <span class="s2">Prand</span>([0.2, 0.4, 0.6], <span class="s2">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\midinote</span>, <span class="s2">Prand</span>([72, 74, 76, 77, 79, 81], <span class="s2">inf</span>),</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\db</span>, -26,</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\legato</span>, 1.1</p>
<p class="p6"><span class="Apple-tab-span">	</span>),</p>
<p class="p7"><span class="s1"><span class="Apple-tab-span">	</span></span>Pseq<span class="s1">([</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbind</span>(<span class="s3">\dur</span>, 3.2, <span class="s3">\freq</span>, <span class="s2">Pseq</span>([<span class="s3">\rest</span>]) ),</p>
<p class="p7"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>Prand<span class="s1">([</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Ppar</span>([</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbind</span>(<span class="s3">\dur</span>, 0.2, <span class="s3">\pan</span>,<span class="Apple-converted-space">  </span>0.5, <span class="s3">\midinote</span>, <span class="s2">Pseq</span>([60, 64, 67, 64])),</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbind</span>(<span class="s3">\dur</span>, 0.4, <span class="s3">\pan</span>, -0.5, <span class="s3">\midinote</span>, <span class="s2">Pseq</span>([48, 43]))</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]),</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Ppar</span>([</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbind</span>(<span class="s3">\dur</span>, 0.2, <span class="s3">\pan</span>,<span class="Apple-converted-space">  </span>0.5, <span class="s3">\midinote</span>, <span class="s2">Pseq</span>([62, 65, 69, 65])),</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbind</span>(<span class="s3">\dur</span>, 0.4, <span class="s3">\pan</span>, -0.5, <span class="s3">\midinote</span>, <span class="s2">Pseq</span>([50, 45]))</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]),</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Ppar</span>([</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbind</span>(<span class="s3">\dur</span>, 0.2, <span class="s3">\pan</span>,<span class="Apple-converted-space">  </span>0.5, <span class="s3">\midinote</span>, <span class="s2">Pseq</span>([64, 67, 71, 67])),</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Pbind</span>(<span class="s3">\dur</span>, 0.4, <span class="s3">\pan</span>, -0.5, <span class="s3">\midinote</span>, <span class="s2">Pseq</span>([52, 47]))</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>])</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>], 12)</p>
<p class="p6"><span class="Apple-tab-span">	</span>], <span class="s2">inf</span>)</p>
<p class="p6">], <span class="s2">inf</span>).play;</p>
<p class="p6">)</p>
<p class="p10"><br></p>
<p class="p10"><br></p>
<p class="p4"><b>Ptpar</b></p>
<p class="p3"><br></p>
<p class="p5">The <b>Ppar</b> pattern starts all of its subpatterns at the same time.</p>
<p class="p3"><b></b><br></p>
<p class="p5"><b>Ptpar</b> pattern includes a start time parameter before each subpattern which allow the subpatterns to</p>
<p class="p5">be started at some time delay within the pattern. The start time is given in beats.</p>
<p class="p3"><br></p>
<p class="p6">(</p>
<p class="p6"><span class="s2">var</span> makePattern, durpat;</p>
<p class="p8"><br></p>
<p class="p6">durpat = <span class="s2">Pseq</span>([ <span class="s2">Pgeom</span>(0.05, 1.1, 24), <span class="s2">Pgeom</span>(0.5, 0.909, 24) ], 2);</p>
<p class="p8"><br></p>
<p class="p6">makePattern = { <span class="s2">arg</span> note, db, pan;</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="s2">Pbind</span>( <span class="s3">\dur</span>, durpat, <span class="s3">\db</span>, db, <span class="s3">\pan</span>, pan, <span class="s3">\midinote</span>, <span class="s2">Pseq</span>([note, note-4], <span class="s2">inf</span>) );</p>
<p class="p6">};</p>
<p class="p8"><br></p>
<p class="p7">Ptpar<span class="s1">([</span></p>
<p class="p6"><span class="Apple-tab-span">	</span>0.0, makePattern.value(53, -20, -0.9),</p>
<p class="p6"><span class="Apple-tab-span">	</span>2.0, makePattern.value(60, -23, -0.3),</p>
<p class="p6"><span class="Apple-tab-span">	</span>4.0, makePattern.value(67, -26,<span class="Apple-converted-space">  </span>0.3),</p>
<p class="p6"><span class="Apple-tab-span">	</span>6.0, makePattern.value(74, -29,<span class="Apple-converted-space">  </span>0.9)</p>
<p class="p6">], <span class="s2">inf</span>).play;</p>
<p class="p8"><br></p>
<p class="p6">)</p>
<p class="p10"><br></p>
<p class="p10"><br></p>
<p class="p5">The time argmuents are sent the 'value' message when the Ptpar pattern is started, so you may use functions to specify the times.</p>
<p class="p3"><br></p>
<p class="p6">(</p>
<p class="p6"><span class="s2">var</span> makePattern, durpat;</p>
<p class="p8"><br></p>
<p class="p6">durpat = <span class="s2">Pseq</span>([ <span class="s2">Pgeom</span>(0.05, 1.1, 24), <span class="s2">Pgeom</span>(0.5, 0.909, 24) ], 2);</p>
<p class="p8"><br></p>
<p class="p6">makePattern = { <span class="s2">arg</span> note, db, pan;</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="s2">Pbind</span>( <span class="s3">\dur</span>, durpat, <span class="s3">\db</span>, db, <span class="s3">\pan</span>, pan, <span class="s3">\midinote</span>, <span class="s2">Pseq</span>([note, note-4], <span class="s2">inf</span>) );</p>
<p class="p6">};</p>
<p class="p8"><br></p>
<p class="p7">Ptpar<span class="s1">([</span></p>
<p class="p6"><span class="Apple-tab-span">	</span>{ 0.0 }, makePattern.value(53, -20, -0.9),</p>
<p class="p6"><span class="Apple-tab-span">	</span>{ 8.0.rand }, makePattern.value(60, -23, -0.3),</p>
<p class="p6"><span class="Apple-tab-span">	</span>{ 8.0.rand }, makePattern.value(67, -26,<span class="Apple-converted-space">  </span>0.3),</p>
<p class="p6"><span class="Apple-tab-span">	</span>{ 8.0.rand }, makePattern.value(74, -29,<span class="Apple-converted-space">  </span>0.9)</p>
<p class="p6">], <span class="s2">inf</span>).play;</p>
<p class="p8"><br></p>
<p class="p6">)</p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p2"><b>FilterPatterns and transformation</b></p>
<p class="p3"><br></p>
<p class="p5">FilterPatterns take an existing pattern and apply some modification to its properties.</p>
<p class="p11"><br></p>
<p class="p4"><b>Padd, Pmul, Pset, Pstretch</b></p>
<p class="p3"><br></p>
<p class="p5">There is a simpler way to write the modal transposition example given in part 5. In fact the earlier examples are setting the values of mtranspose and ctranspose which is not the best way to change those variables, because it wipes out any modifications to them by parent patterns. It is better to take the current value of those properties and add a value to them. The <b>Padd</b> filter takes the current value of a property and adds a value to it.</p>
<p class="p11"><br></p>
<p class="p6">(</p>
<p class="p9">// modal transposition</p>
<p class="p6"><span class="s2">var</span> pattern;</p>
<p class="p8"><br></p>
<p class="p9">// define the basic pattern</p>
<p class="p6">pattern = <span class="s2">Pbind</span>(</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\dur</span>, 0.15,</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\degree</span>, <span class="s2">Pseq</span>([ <span class="s2">Pshuf</span>(#[-7,-3,0,2,4,7], 4), <span class="s2">Pseq</span>([0,1,2,3,4,5,6,7]) ], 1)</p>
<p class="p6">);</p>
<p class="p8"><br></p>
<p class="p7">Pseq<span class="s1">([</span></p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span>pattern,<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// untransposed</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s2">Padd</span><span class="s1">(</span><span class="s3">\mtranspose</span><span class="s1">, 1, pattern),<span class="Apple-tab-span">	</span></span>// modal transpose up 1 degree</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s2">Padd</span><span class="s1">(</span><span class="s3">\mtranspose</span><span class="s1">, 2, pattern)<span class="Apple-tab-span">	</span></span>// modal transpose up 2 degrees</p>
<p class="p6">], <span class="s2">inf</span>).play</p>
<p class="p6">)</p>
<p class="p10"><br></p>
<p class="p5">Similarly, <b>Pmul</b> multiplies the current value of a property by a value.</p>
<p class="p5"><b>Pset</b> sets the property to a value.</p>
<p class="p5"><b>Pnot</b> does a logical negation of a property with a Boolean value.</p>
<p class="p11"><br></p>
<p class="p5">In order to process duration correctly <b>Pstretch</b> should be used.</p>
<p class="p3"><br></p>
<p class="p6">(</p>
<p class="p9">// beat stretching using Pstretch</p>
<p class="p6"><span class="s2">var</span> pattern;</p>
<p class="p8"><br></p>
<p class="p9">// define the basic pattern</p>
<p class="p6">pattern = <span class="s2">Pbind</span>(</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\dur</span>, 0.15,</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\degree</span>, <span class="s2">Pseq</span>([ <span class="s2">Pshuf</span>(#[-7,-3,0,2,4,7], 4), <span class="s2">Pseq</span>([0,1,2,3,4,5,6,7]) ], 1)</p>
<p class="p6">);</p>
<p class="p8"><br></p>
<p class="p7">Pseq<span class="s1">([</span></p>
<p class="p6"><span class="Apple-tab-span">	</span>pattern,<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">// normal</span></p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s2">Pstretch</span><span class="s1">(0.5, pattern),<span class="Apple-tab-span">	</span></span>// stretch durations by a factor of 1/2</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s2">Pstretch</span><span class="s1">(2.0, pattern)<span class="Apple-tab-span">	</span></span>// stretch durations by a factor of 2</p>
<p class="p6">], <span class="s2">inf</span>).play</p>
<p class="p6">)</p>
<p class="p10"><br></p>
<p class="p3"><br></p>
<p class="p4"><b>Paddp, Pmulp, Psetp, Pstretchp</b></p>
<p class="p3"><br></p>
<p class="p5">In fact there is an even shorter version of the modal transposition example. <b>Paddp</b> reads one pattern to get values for adding to a property and plays the second pattern once through modified with each new value.</p>
<p class="p11"><br></p>
<p class="p6">(</p>
<p class="p9">// modal transposition</p>
<p class="p6"><span class="s2">var</span> pattern;</p>
<p class="p8"><br></p>
<p class="p9">// define the basic pattern</p>
<p class="p6">pattern = <span class="s2">Pbind</span>(</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\dur</span>, 0.15,</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\degree</span>, <span class="s2">Pseq</span>([ <span class="s2">Pshuf</span>(#[-7,-3,0,2,4,7], 4), <span class="s2">Pseq</span>([0,1,2,3,4,5,6,7]) ], 1)</p>
<p class="p6">);</p>
<p class="p8"><br></p>
<p class="p7">Paddp<span class="s1">(</span></p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s3">\mtranspose</span><span class="s1">, <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// property to be modified</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s2">Pseq</span><span class="s1">([0,1,2], </span><span class="s2">inf</span><span class="s1">), <span class="Apple-tab-span">	</span></span>// a value pattern as a source of values for adding to mtranspose</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span>pattern<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// the pattern to be modified</p>
<p class="p6">).play</p>
<p class="p6">)</p>
<p class="p10"><br></p>
<p class="p10"><br></p>
<p class="p5">Nested modifications:</p>
<p class="p3"><br></p>
<p class="p6">(</p>
<p class="p9">// modal transposition</p>
<p class="p6"><span class="s2">var</span> pat1, pat2;</p>
<p class="p8"><br></p>
<p class="p9">// define the basic pattern</p>
<p class="p6">pat1 = <span class="s2">Pbind</span>(</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\dur</span>, 0.15,</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\degree</span>, <span class="s2">Pseq</span>([ <span class="s2">Pshuf</span>(#[-7,-3,0,2,4,7], 4), <span class="s2">Pseq</span>([0,1,2,3,4,5,6,7]) ], 1)</p>
<p class="p6">);</p>
<p class="p8"><br></p>
<p class="p6">pat2 = <span class="s2">Paddp</span>(</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s3">\mtranspose</span><span class="s1">, <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// property to be modified</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s2">Pseq</span><span class="s1">([0,1,2]), <span class="Apple-tab-span">	</span></span>// a value pattern as a source of values for adding to mtranspose</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="s2">Ppar</span>([<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>pat1,<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Padd</span>(<span class="s3">\mtranspose</span>, -3, pat1), <span class="s4">// down a 4th</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">Padd</span>(<span class="s3">\mtranspose</span>, 2, pat1) <span class="Apple-tab-span">	</span><span class="s4">// up a 3rd</span></p>
<p class="p6"><span class="Apple-tab-span">	</span>])</p>
<p class="p6">);</p>
<p class="p8"><br></p>
<p class="p7">Pseq<span class="s1">([</span></p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span>pat1,<span class="Apple-tab-span">	</span></span>// unmodified pattern</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span>pat2, <span class="Apple-tab-span">	</span></span>// parallel sequence</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s2">Pstretch</span><span class="s1">(1.5, pat2) <span class="Apple-tab-span">	</span></span>// parallel sequence stretched by 3/2</p>
<p class="p6">], <span class="s2">inf</span>).play</p>
<p class="p6">)</p>
<p class="p10"><br></p>
<p class="p3"><br></p>
<p class="p5">Another example using Paddp:</p>
<p class="p3"><br></p>
<p class="p6">(</p>
<p class="p6"><span class="s2">var</span> chord;</p>
<p class="p6">chord = <span class="s2">Prand</span>([[53, 58, 64],[53, 60, 64],[57,60,65]]);</p>
<p class="p6"><span class="s2">Paddp</span>(<span class="s3">\ctranspose</span>, <span class="s2">Prand</span>([-1,0,2,4,5], <span class="s2">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p7"><span class="s1"><span class="Apple-tab-span">	</span></span>Ppar<span class="s1">([</span></p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s2">Pbind</span><span class="s1">(<span class="Apple-tab-span">	</span></span>// melody part</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\dur</span>, <span class="s2">Prand</span>([0.2, 0.4, 0.6], <span class="s2">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\midinote</span>, <span class="s2">Pxrand</span>([71, 72, 74, 76, 77, 79], 10),</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\db</span>, -26,</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\legato</span>, 1.1</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>),</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s2">Pbind</span><span class="s1">(<span class="Apple-tab-span">	</span></span>// harmony part</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\pan</span>, 0.4,<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\dur</span>, <span class="s2">Pseq</span>([0.1, 0.5, 0.4, 0.6], 4),<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\midinote</span>, <span class="s2">Pseq</span>([chord,<span class="s3">\rest</span>,chord,<span class="s3">\rest</span>], 4)</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>),</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s2">Pbind</span><span class="s1">(<span class="Apple-tab-span">	</span></span>// bass part</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\pan</span>, -0.4,<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\dur</span>, 0.4,<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\midinote</span>, <span class="s2">Pseq</span>([38, 45, 38, 36], 4)</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p6"><span class="Apple-tab-span">	</span>])</p>
<p class="p6">).play</p>
<p class="p6">)</p>
<p class="p8"><br></p>
<p class="p8"><br></p>
<p class="p6">(</p>
<p class="p9">// chromatic transposition</p>
<p class="p6"><span class="s2">var</span> pattern;</p>
<p class="p8"><br></p>
<p class="p9">// define the basic pattern</p>
<p class="p6">pattern = <span class="s2">Pbind</span>(</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\dur</span>, 0.1,</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\degree</span>, <span class="s2">Pseq</span>([0,1,2,3,4,5,6,7])</p>
<p class="p6">);</p>
<p class="p8"><br></p>
<p class="p7">Paddp<span class="s1">(</span></p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s3">\ctranspose</span><span class="s1">, <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// property to be modified</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s2">Pseries</span><span class="s1">(0,1,12), <span class="Apple-tab-span">	</span></span>// a value pattern as a source of values for multiplying with ctranspose</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span>pattern<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// the pattern to be modified</p>
<p class="p6">).play</p>
<p class="p6">)</p>
<p class="p8"><br></p>
<p class="p8"><br></p>
<p class="p6">(</p>
<p class="p9">// beat time stretching</p>
<p class="p6"><span class="s2">var</span> pattern;</p>
<p class="p8"><br></p>
<p class="p9">// define the basic pattern</p>
<p class="p6">pattern = <span class="s2">Pbind</span>(</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\dur</span>, 0.1,</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\degree</span>, <span class="s2">Pseq</span>([0,1,2,3,4,5,6,7])</p>
<p class="p6">);</p>
<p class="p8"><br></p>
<p class="p7">Pstretchp<span class="s1">(</span></p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s2">Pseq</span><span class="s1">([1,2,3], </span><span class="s2">inf</span><span class="s1">), <span class="Apple-tab-span">	</span></span>// a value pattern as a source of values for multiplying with stretch</p>
<p class="p9"><span class="s1"><span class="Apple-tab-span">	</span>pattern<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// the pattern to be modified</p>
<p class="p6">).play</p>
<p class="p6">)</p>
<p class="p10"><br></p>
<p class="p11"><br></p>
<p class="p4"><b>Pbindf</b></p>
<p class="p11"><br></p>
<p class="p5"><b>Pbindf</b> is like <b>Pbind</b> except that it merges all the bound symbols into events that it gets from a subpattern. It takes the same initial arguments in pairs as Pbind does, with an additional pattern to be modified as the last argument.</p>
<p class="p3"><br></p>
<p class="p6">(</p>
<p class="p6"><span class="s2">var</span> pattern;</p>
<p class="p6">pattern = <span class="s2">Pbind</span>( <span class="s3">\midinote</span>, <span class="s2">Pseq</span>(#[60, 62, 64, 65, 67, 69, 71, 72]) );</p>
<p class="p8"><br></p>
<p class="p7">Pseq<span class="s1">([</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="s2">Pbindf</span>(pattern, <span class="s3">\legato</span>, 0.1, <span class="s3">\dur</span>, 0.2),</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="s2">Pbindf</span>(pattern, <span class="s3">\legato</span>, 1.0, <span class="s3">\dur</span>, 0.125),</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="s2">Pbindf</span>(pattern, <span class="s3">\legato</span>, 2.0, <span class="s3">\dur</span>, 0.3)</p>
<p class="p6">], <span class="s2">inf</span>).play</p>
<p class="p6">)</p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p5">Patterns can be used as the arguments to Pbindf.</p>
<p class="p3"><br></p>
<p class="p6">(</p>
<p class="p6"><span class="s2">var</span> pattern;</p>
<p class="p6">pattern = <span class="s2">Pbind</span>( <span class="s3">\midinote</span>, <span class="s2">Pseq</span>(#[60, 62, 64, 65, 67, 69, 71, 72, 74, 76, 77, 79]) );</p>
<p class="p8"><br></p>
<p class="p7">Pseq<span class="s1">([</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="s2">Pbindf</span>(pattern,<span class="s3">\legato</span>, 0.1, <span class="s3">\dur</span>, <span class="s2">Pgeom</span>(0.3, 0.85, <span class="s2">inf</span>)),</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="s2">Pbindf</span>(pattern,<span class="s3">\legato</span>, 1.0, <span class="s3">\dur</span>, <span class="s2">Pseq</span>([0.3, 0.15], <span class="s2">inf</span>)),</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="s2">Pbindf</span>(pattern,<span class="s3">\legato</span>, 2.0, <span class="s3">\dur</span>, <span class="s2">Pseq</span>([0.2, 0.2, 0.4], <span class="s2">inf</span>))</p>
<p class="p6">], <span class="s2">inf</span>).play</p>
<p class="p6">)</p>
<p class="p10"><br></p>
<p class="p5">To go to the next file:</p>
<p class="p12"><a href="Streams-Patterns-Events7.html">Streams-Patterns-Events7</a></p>
<p class="p10"><br></p>
</body>
</html>
