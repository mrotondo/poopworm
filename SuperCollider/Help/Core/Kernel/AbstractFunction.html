<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="1038.29">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #0000ee}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #e10000}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p10 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p11 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #d40002}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #e10002}
p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #9d1c12; min-height: 12.0px}
p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #3300d3}
span.s1 {color: #0000ff}
span.s2 {color: #000000}
span.s3 {text-decoration: underline}
span.s4 {color: #0026b4}
span.s5 {color: #0024f8}
span.s6 {color: #3300d3}
span.s7 {color: #008c00}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><b>AbstractFunction</b></p>
<p class="p2"><br></p>
<p class="p3"><b>Inherits from: </b><a href="../Object.html"><span class="s1"><b>Object</b></span></a></p>
<p class="p2"><br></p>
<p class="p3">An AbstractFunction is an object which responds to a set of messages that represent</p>
<p class="p3">mathematical functions. Subclasses override a smaller set of messages to respond</p>
<p class="p3">to the mathematical functions. The intent is to provide a mechanism for functions</p>
<p class="p3">that do not calculate values directly but instead compose structures for calculating.</p>
<p class="p2"><br></p>
<p class="p3">Function, Pattern, Stream and UGen are subclasses of AbstractFunction.</p>
<p class="p3">For example, if you multiply two UGens together the receiver responds by answering a new</p>
<p class="p3">instance of class BinaryOpUGen which has the two operands as inputs.</p>
<p class="p2"><br></p>
<p class="p4"><span class="s2">see also: <a href="../../UGens/UGen.html"><span class="s3">UGen</span></a>, <a href="../../Streams-Patterns-Events/Patterns/Pattern.html"><span class="s3">Pattern</span></a>, <a href="Function.html"><span class="s3">Function</span></a></span></p>
<p class="p2"><br></p>
<p class="p3"><b>Unary Messages:</b></p>
<p class="p2"><br></p>
<p class="p3">All of the following messages send the message <b>composeUnaryOp</b> to the receiver with the</p>
<p class="p3">unary message selector as an argument. See: <a href="../UnaryOpFunction.html"><span class="s4">UnaryOpFunction</span></a></p>
<p class="p2"><br></p>
<p class="p3"><b>neg, reciprocal, bitNot, abs, asFloat, asInt, ceil, floor, frac, sign, squared, cubed, sqrt</b></p>
<p class="p3"><b>exp, midicps, cpsmidi, midiratio, ratiomidi, ampdb, dbamp, octcps, cpsoct, log, log2,</b></p>
<p class="p3"><b>log10, sin, cos, tan, asin, acos, atan, sinh, cosh, tanh, rand, rand2, linrand, bilinrand,</b></p>
<p class="p3"><b>sum3rand, distort, softclip, nyqring, coin, even, odd, isPositive, isNegative,</b></p>
<p class="p3"><b>isStrictlyPositive, rho, theta</b></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>Binary Messages:</b></p>
<p class="p5"><br></p>
<p class="p3">All of the following messages send the message <b>composeBinaryOp</b> to the receiver with the</p>
<p class="p3">binary message selector and the second operand as arguments. See:<span class="Apple-converted-space">  </span><a href="../BinaryOpFunction.html"><span class="s4">BinaryOpFunction</span></a></p>
<p class="p2"><br></p>
<p class="p3"><b>+, -, *, /, div, %, **, min, max, &lt;, &lt;=, &gt;, &gt;=, &amp;, |, lcm, gcd, round, trunc, atan2,<span class="Apple-converted-space"> </span></b></p>
<p class="p3"><b>hypot, hypotApx, &gt;&gt;, +&gt;&gt;, fill, ring1, ring2, ring3, ring4, difsqr, sumsqr, sqrdif, absdif, amclip,</b></p>
<p class="p3"><b>scaleneg, clip2, excess, &lt;!, rrand, exprand, rotate, dist, bitAnd, bitOr, bitXor, bitHammingDistance, @</b></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>Messages with more arguments:</b></p>
<p class="p2"><br></p>
<p class="p3">All of the following messages send the message <b>composeNAryOp</b> to the receiver with the</p>
<p class="p3">binary message selector and the other operands as arguments. See <a href="../NAryOpFunction.html"><span class="s4">NAryOpFunction</span></a></p>
<p class="p2"><br></p>
<p class="p3"><b>clip, wrap, fold, blend, linlin, linexp, explin, expexp</b></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>applyTo(... args)</b></p>
<p class="p2"><br></p>
<p class="p3">Interface that allows us to combine selectors (<a href="../Symbol.html"><span class="s4">Symbol</span></a>s) and <a href="Function.html"><span class="s5">Function</span></a>s. Sends <b>valueArray</b>(args) to <b>this</b>.</p>
<p class="p2"><br></p>
<p class="p6">// example:</p>
<p class="p7"><br></p>
<p class="p8">f = [{ <span class="s6">|a, b|</span> a * b * 100.rand }, { <span class="s6">|a, b|</span> sin(a) * sin(b) }, <span class="s7">'*'</span>, <span class="s7">'/'</span>];</p>
<p class="p8">f.choose.postcs.applyTo(3, 4);</p>
<p class="p7"><br></p>
<p class="p6">// this is used in <a href="../../Collections/SequenceableCollection.html">SequenceableCollection</a> reduce:</p>
<p class="p8">(1..10).reduce(<span class="s7">'+'</span>);</p>
<p class="p8">(1..10).reduce({ <span class="s6">|a, b|</span> a * b * 1.0.rand });</p>
<p class="p2"><br></p>
<p class="p3"><b>asUGenInput(for)</b></p>
<p class="p2"><br></p>
<p class="p3">returns the result of sending the <b>value</b>(for) message to <b>this</b>.</p>
<p class="p2"><br></p>
<p class="p6">// example:</p>
<p class="p8">(</p>
<p class="p8"><span class="s6">var</span> f, g, product;</p>
<p class="p8">f = { <span class="s6">SinOsc</span>.ar(400) };</p>
<p class="p8">g = { <span class="s6">LFPulse</span>.kr(8)<span class="Apple-converted-space">  </span>};</p>
<p class="p8">product = f * g * 0.1;</p>
<p class="p8">{ <span class="s6">Pan2</span>.ar(product, <span class="s6">SinOsc</span>.kr(0.3)) }.play;<span class="Apple-converted-space"> </span></p>
<p class="p8">)</p>
<p class="p9"><br></p>
<p class="p10"><b>sampled (function, n, from, to)</b></p>
<p class="p11"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p9"><br></p>
<p class="p12">//sample a function</p>
<p class="p13">f = { <span class="s6">|x|</span> sin(3*x)*cos(8*x) }</p>
<p class="p13">f.plotGraph2(from:0,to:2);</p>
<p class="p13">f.sampled(10,0,2).plotGraph2(from:0,to:2);</p>
<p class="p13">f.sampled(80,0,2).plotGraph2(from:0,to:2);</p>
<p class="p9"><br></p>
<p class="p14">//on complicated functions a sampled function is less cpy heavy.</p>
<p class="p13">f = { <span class="s6">|x|</span> 60.collect{ 2**((x-rrand(0.0,1.0))) }.sum/60 };</p>
<p class="p13">f.plotGraph2(from:0,to:1);</p>
<p class="p13">g = f.sampled(200);</p>
<p class="p13">g.plotGraph2(from:0,to:1);</p>
<p class="p13">{ 200.collect{ f.(rand(0.0,1.0)) } }.bench;</p>
<p class="p13">{ 200.collect{ g.(rand(0.0,1.0)) } }.bench;</p>
<p class="p2"><br></p>
<p class="p3"><b>Function Composition:</b></p>
<p class="p2"><br></p>
<p class="p3">when unary, binary or n-ary operators are appied to an abstract function, it returns an object that represents</p>
<p class="p3">this operation, without evaluating the function: UnaryOpFunction, BinaryOpFunction, NAryOpFunction.</p>
<p class="p3">Note that different subclasses like Pattern or UGen have their own composition scheme analogous to the one of AbstractFunction itself. More about functions, see <a href="Function.html"><span class="s4">Function</span></a></p>
<p class="p2"><br></p>
<p class="p15"><br></p>
<p class="p6">// examples</p>
<p class="p7"><br></p>
<p class="p8">a = { 1.0.rand } + 8;</p>
<p class="p8">a.value;</p>
<p class="p7"><br></p>
<p class="p7"><br></p>
<p class="p8">y = { 8 } + { 1.0.rand };</p>
<p class="p8">y.value;</p>
<p class="p7"><br></p>
<p class="p6">// arguments are passed into both functions</p>
<p class="p7"><br></p>
<p class="p8">y = { <span class="s6">|x=0|</span> x } + { 1.0.rand };</p>
<p class="p8">y.value(10);</p>
<p class="p7"><br></p>
<p class="p7"><br></p>
<p class="p8">y = { <span class="s6">|x=0|</span> x * 3 } + { |x=0| x + 1.0.rand };</p>
<p class="p8">y.value(10);</p>
<p class="p7"><br></p>
<p class="p8">y.postcs;</p>
<p class="p7"><br></p>
<p class="p8">y = { <span class="s6">|x=0|</span> x * 3 } + { |x=0| x + 1.0.rand } * { <span class="s6">|x=0|</span> [50, 100].choose + x } + 1.0;</p>
<p class="p8">y.value(10);</p>
<p class="p7"><br></p>
<p class="p6">// environments can be used as a lookup with valueEnvir:</p>
<p class="p7"><br></p>
<p class="p8">(</p>
<p class="p16">Environment<span class="s2">.use {</span></p>
<p class="p8"><span class="Apple-tab-span">	</span>~y = 10;</p>
<p class="p8"><span class="Apple-tab-span">	</span>~x = 2;</p>
<p class="p8"><span class="Apple-tab-span">	</span>~z = { <span class="s6">|x=8|</span> x } + { <span class="s6">|y=0|</span> y + 1.0.rand };</p>
<p class="p8"><span class="Apple-tab-span">	</span>~z.valueEnvir;</p>
<p class="p8">}</p>
<p class="p8">)</p>
<p class="p7"><br></p>
<p class="p6">// n-ary operators:</p>
<p class="p7"><br></p>
<p class="p8">a = blend({ 3.0.rand }, { 1000.rand }, { <span class="s6">|frac|</span> frac });</p>
<p class="p8">a.value(0.5);</p>
<p class="p7"><br></p>
<p class="p6"><span class="s2">a.value((0, 0.06..1)); </span>// creates a range of values..</p>
<p class="p15"><br></p>
<p class="p15"><br></p>
<p class="p15"><br></p>
<p class="p15"><br></p>
<p class="p9"><br></p>
<p class="p9"><br></p>
<p class="p9"><br></p>
<p class="p9"><br></p>
<p class="p9"><br></p>
</body>
</html>
