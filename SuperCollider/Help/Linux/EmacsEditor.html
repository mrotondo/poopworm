<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
  <title>Emacs Editor</title>
  <meta name="GENERATOR" content="Quanta Plus">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>

<h1>The Emacs Editor</h1>

Here is a more extensive and elaborate overview of useful shortcuts in the Emacs Editor.
For a general reference to Emacs shortcut, check out this <A href="http://lpn.rnbhq.org/tools/xemacs/emacs_ref.html">Emacs reference</A>.

<TABLE>
<tbody valign="top">
<tr><td>C-g</td><td>Abort current action</td></tr>
<tr><td>C-h</td><td>General help on emacs</td></tr>
<tr><td colspan="2" align="center"><strong>Interpreting code</strong></td></tr>
<tr><td>C-c C-d<br>(C-c C-c)</td><td>Interpret Selection <br>(only if transient-mark-mode is on)</td></tr>
<tr><td>C-c C-c</td><td>Interpret current line</td></tr>
<tr><td>C-c C-e</td><td>Evaluate expression (in minibuffer)</td></tr>
<tr><td>C-M-x</td><td>Interpret defun</td></tr>
<tr><td>C-c C-f</td><td>Interpret current document</td></tr>

<tr><td colspan="2" align="center"><strong>Control the interpreter</strong></td></tr>
<tr><td>C-c C-s</td><td>Stop (CmdPeriod) / Main.stop</td></tr>
<tr><td>C-c C-r</td><td>Main.run</td></tr>
<tr><td>C-c C-l</td><td>Recompile library</td></tr>
<tr><td>M-x sclang-stop</td><td>Stop interpreter</td></tr>
<tr><td>C-c C-p p</td><td>Show server panels</td></tr>

<tr><td colspan="2" align="center"><strong>Postbuffer and workspace</strong></td></tr>
<tr><td>C-c C-w</td><td>Switch to workspace</td></tr>
<tr><td>C-c &lt;</td><td>Clear postbuffer</td></tr>
<tr><td>C-c &gt;</td><td>Show postbuffer</td></tr>

<tr><td colspan="2" align="center"><strong>Help files</strong></td></tr>
<tr><td>C-M-h</td><td>Show help browser</td></tr>
<tr><td>C-c C-h</td><td>Open help file. You do not need to select a word before using the shortcut. It will suggest the word at the current cursor position, or lets you type a word in the minibuffer. There is autocompletion by typing &lt;TAB&gt;.</td></tr>
<tr><td>E</td><td>(in the help browser) open the help file as plain text (in sclang-mode), so it can be edited.</td></tr>
<tr><td>C-c C-v</td><td>(in the help browser) edit the help file as html code.</td></tr>

<tr><td colspan="2" align="center"><strong>Finding things in class source files</strong></td></tr>
<tr><td>C-c :</td><td>Find definitions (method or class). Again, you can type the word you want to look for in the minibuffer and it suggests the word at the current cursor position.</td></tr>
<tr><td>C-c ;</td><td>Find references to (method or class). (ditto)</td></tr>
<tr><td>C-c C-k</td><td>Open current file at the svn development path location. You need to have set the devpath variable in Platform for this to work properly, e.g.<br>
thisProcess.platform.devpath = "~/svn/SuperCollider3".standardizePath;
</td></tr>

<tr><td colspan="2" align="center"><strong>Current code completion and interface</strong></td></tr>
<tr><td>C-c [</td><td>Dump interface</td></tr>
<tr><td>C-c {</td><td>Dump full interface</td></tr>
<tr><td>C-c C-m / C-c RET</td><td>Show method arguments (in minibuffer)</td></tr>
<tr><td>C-c C-n / M-TAB</td><td>Autocomplete keyword (either puts in the one possible completion, or pops up a buffer with possibilities from which you can choose one)</td></tr>


<tr><td colspan="2" align="center"><strong>Files and buffers</strong></td></tr>
<tr><td>C-x C-f</td><td>Open file or new file</td></tr>
<tr><td>C-x C-s</td><td>Save file</td></tr>
<tr><td>C-x C-w</td><td>Save file as</td></tr>
<tr><td>C-x C-v</td><td>Open another file in this buffer</td></tr>
<tr><td>C-x i</td><td>Insert a file at cursor position</td></tr>
<tr><td>C-x b</td><td>Create/switch buffers</td></tr>
<tr><td>C-x C-b</td><td>Show buffer list</td></tr>
<tr><td>C-x k</td><td>Kill buffer</td></tr>
<tr><td>C-z</td><td>Suspend emacs</td></tr>
<tr><td>C-x C-c</td><td>Close down emacs</td></tr>

<tr><td colspan="2" align="center"><strong>Undo and recovery</strong></td></tr>
<tr><td>C-x u / C-_</td><td>Undo</td></tr>
<tr><td>C-x u / C-_</td><td>Redo</td></tr>
<tr><td>M-x revert-buffer RETURN</td><td>undo all changes since last save</td></tr>
<tr><td>M-x recover-file RETURN</td><td>Recover text from an autosave-file</td></tr>
<tr><td>M-x recover-session RETURN</td><td>Recover text from an autosave-files if you edited several files</td></tr>


<tr><td colspan="2" align="center"><strong>Editing</strong></td></tr>
<tr><td>M-w</td><td>Copy</td></tr>
<tr><td>C-y</td><td>Paste</td></tr>
<tr><td>C-w</td><td>Cut</td></tr>
<tr><td>C-x C-o</td><td>Delete blank lines</td></tr>

<tr><td colspan="2" align="center"><strong>Search and replace</strong></td></tr>
<tr><td>C-s</td><td>Search / find. This allows you to set a string in the mini-buffer. The occurences in the text will be highlighted and you can press C-s again and again to jump to next occurences</td></tr>
<tr><td>C-r</td><td>Search / find backwards.</td></tr>
<tr><td>M-%</td><td>Replace and find next</td></tr>
<tr><td>M-,</td><td>Replace</td></tr>

<tr><td colspan="2" align="center"><strong>Navigating and selecting</strong></td></tr>
<tr><td>M-g g</td><td>Goto line ...</td></tr>
<tr><td>C-x a</td><td>Select all</td></tr>

<tr><TD>C-M-f</TD>
    <TD>zips you forward to matching parenthesis, so if you hover over the opening bracket, hit <br>
	 C-&lt;space&gt;, C-M-f, C-c C-c you can quickly execute a block.
   </TD></TR>

<tr><TD>C-M-b</TD>
    <TD>zips you backward to matching parenthesis. If you are just to the right of
closing brackets this is handier if you've just finished some code.
   </TD></TR>

<tr><td>
    C-f</td><td>	Move forward a character
</td></tr>
<tr><td>
    C-b</td><td>Move backward a character
</td></tr>
<tr><td>
    M-f</td><td>Move forward a word
</td></tr>
<tr><td>
    M-b</td><td>Move backward a word
</td></tr>
<tr><td>
    C-n</td><td>Move to next line
</td></tr>
<tr><td>
    C-p</td><td>Move to previous line
</td></tr>
<tr><td>
    C-a</td><td>Move to beginning of line
</td></tr>
<tr><td>
    C-e</td><td>Move to end of line
</td></tr>
<tr><td>
    M-a</td><td>Move back to beginning of sentence
</td></tr>
<tr><td>
    M-e</td><td>Move forward to end of sentence
</td></tr>
<tr><td>


<tr><td colspan="2" align="center"><strong>Formatting</strong></td></tr>
<tr><td> M-x show-paren-mode</td><td>Paren match highlighting. Can also be set from the options menu.</td></tr>
<tr><td>M-;</td><td>Add comment. If you have a text selected, then that text will become a comment. It will remove the commenting // when you have selected a commented text.</td></tr>
<tr><td>C-M-j</td><td>Continue the comment on the next line.</td></tr>
<tr><td>C-u M-;</td><td>Remove comment. This removes the whole comment, so also the text!</td></tr>
<tr><td>M-x comment-region</td><td>Comments the selected region</td></tr>
<tr><td>M-x uncomment-region</td><td>Uncomments the selected region</td></tr>
<tr><td>TAB</td><td>Auto-aligns tabs according to code.</td></tr>
</tbody>
</TABLE>

<h2>Marks</h2>
(info from EmacsWiki)

<p><strong>set-mark-command (`C-SPC')</strong><br>

A nice feature that not all know about is what happens if you feed it with a universal argument: ‘C-u C-SPC’. It’s an easy way to navigate back to your previous editing spots by jumping to the positions stored in the buffer’s local mark ring. Repeated calls will cycle through the ring of marks.
</p><p>
If you use TransientMarkMode and you want to set the mark but don’t want to subsequently see the region highlighting, you can use ‘C-SPC C-g’ to set the mark and then deactivate it.
</p>
<p><strong>pop-global-mark (`C-x C-SPC')</strong><br>

In addition to the ordinary mark ring that belongs to each buffer, Emacs has a single global mark ring. It records a sequence of buffers in which you have recently set the mark, so you can go back to those buffers.</p>
<p>
Setting the mark always makes an entry on the current buffer’s mark ring. If you have switched buffers since the previous mark setting, the new mark position makes an entry on the global mark ring also. The result is that the global mark ring records a sequence of buffers that you have been in, and, for each buffer, a place where you set the mark.
</p><p>
‘C-x C-SPC’ (‘pop-global-mark’) jumps to the buffer and position of the latest entry in the global mark ring. It also rotates the ring, so that successive uses of ‘C-x C-SPC’ take you to earlier and earlier buffers.
</p>
<h2>Customsing Emacs' behaviour</h2>
<p>
You can customize the behaviour of Emacs, by putting things in the startup file of emacs. This file is <code>~/.emacs</code>.

You can define options there, for example:
</p>
<pre>
(custom-set-variables
 '(case-fold-search t)
 '(global-font-lock-mode t nil (font-lock))
 '(sclang-runtime-directory "~/SuperCollider/")
 '(show-paren-mode t nil (paren))
 '(transient-mark-mode t)
)
</pre>

<code>nil</code> means that an option is turned off, <code>t</code> or <code>1</code> means that it is turned on.

<TABLE>
<tr><td><code>'(sclang-eval-line-forward nil)</code></td><td>Configure the text cursor NOT to move after hitting C-c C-c</td></tr>
</TABLE>

<h3>Customize w3m</h3>

Normally w3m uses the arrow keys to jump between hyperlinks. For browsing SC help files this is not very useful.

<pre>
(eval-after-load "w3m"
 '(progn
 (define-key w3m-mode-map [left] 'backward-char)
 (define-key w3m-mode-map [right] 'forward-char)
 (define-key w3m-mode-map [up] 'previous-line)
 (define-key w3m-mode-map [down] 'next-line)
 (setq w3m-auto-show 1)
 ))
</pre>

<h3>Automatically complete brackets and parentheses</h3>
<pre>
      (setq skeleton-pair t)
      (global-set-key (kbd "(") 'skeleton-pair-insert-maybe)
      (global-set-key (kbd "{") 'skeleton-pair-insert-maybe)
      (global-set-key (kbd "[") 'skeleton-pair-insert-maybe)
      (global-set-key (kbd "\"") 'skeleton-pair-insert-maybe)
      (global-set-key (kbd "'") 'skeleton-pair-insert-maybe)
</pre>

<h3>Scrollwheel support</h3>
<pre>
;;; scrollwheel support
(defun scroll-up-half ()
  "Scroll up half a page."
  (interactive)
  (scroll-up (/ (window-height) 2))
  )

(defun scroll-down-half ()
  "Scroll down half a page."
  (interactive)
  (scroll-down (/ (window-height) 2))
  )
(global-set-key [(mouse-5)] 'scroll-up-half)
(global-set-key [(mouse-4)] 'scroll-down-half)
</pre>


<h3>Recent files menu</h3>
<p>
Recentf is a minor mode that builds a list of recently opened files. This list is is automatically saved across Emacs sessions. You can then access this list through a menu.
Put this in your `~/.emacs’:</p>
<pre>
    (require 'recentf)
    (recentf-mode 1)
</pre>


<p>
For adding a shortcut (C-x C-r) to open a recent file add this code as well:
</p>
<pre>
    (defun recentf-open-files-compl ()
      (interactive)
      (let* ((all-files recentf-list)
        (tocpl (mapcar (function
           (lambda (x) (cons (file-name-nondirectory x) x))) all-files))
        (prompt (append '("File name: ") tocpl))
        (fname (completing-read (car prompt) (cdr prompt) nil nil)))
        (find-file (cdr (assoc-ignore-representation fname tocpl)))))

    (global-set-key "\C-x\C-r" 'recentf-open-files-compl)
</pre>


<h2>More info on Emacs</h2>
<A href="http://www.emacswiki.org/cgi-bin/wiki">Emacs Wiki</A>
</body>
</html>
