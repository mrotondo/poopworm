<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.43">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #001ee6}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p6 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p7 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p8 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica}
p.p9 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p10 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 9.0px Monaco; color: #000000}
p.p11 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p12 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p13 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p17 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p18 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p19 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0000bf}
p.p20 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #606060}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #000000}
span.s3 {color: #5c5e65}
span.s4 {font: 9.0px Monaco}
span.s5 {color: #0000bf}
span.s6 {color: #606060}
span.s7 {color: #1638e6}
span.s8 {color: #0c2eee}
span.s9 {color: #1129ac}
span.s10 {color: #516a24}
span.s11 {font: 14.0px Helvetica}
span.s12 {color: #007300}
span.s13 {color: #bf0000}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>SCKnob<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>a gui control with round, horizontal or vertical action</b><span class="s1"><b><span class="Apple-tab-span">	</span></b></span></p>
<p class="p2"><br></p>
<p class="p3"><span class="s2"><b>Inherits from: </b><a href="../../Core/Object.html"><b>Object</b></a><b> : </b><a href="SCView.html"><b>SCView</b></a><b> : </b><a href="SCUserView.html"><b>SCUserView</b></a></span></p>
<p class="p2"><br></p>
<p class="p1"><b>See also:</b> EZKnob</p>
<p class="p2"><br></p>
<p class="p4"><b>Creation / Class Methods</b></p>
<p class="p5"><br></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>*new (parent, bounds)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>parent </b>- The parent view.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>bounds </b>- An instance of <a href="../../Geometry/Rect.html"><span class="s3">Rect</span></a>, or a <a href="../../Geometry/Point.html"><span class="s3">Point</span></a> indicating width@height.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">(</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w=<span class="s5">Window</span>.new(<span class="s6">"Knob"</span>, <span class="s5">Rect</span>(640,630,270,70)).front;</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>k = <span class="s5">Knob</span>.new(w, <span class="s5">Rect</span>(20, 10, 48, 48));</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>k.action_({<span class="s5">|v,x,y,m|</span> postf(<span class="s6">"action func called: %\n"</span>, v.value); });</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">)</span></p>
<p class="p11"><br></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>*defaultMode</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>*defaultMode_(val)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Class variable that states the default tracking mode for new knobs..</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val</b> - An instance of <a href="../../Core/Symbol.html"><span class="s7">Symbol</span></a>. \vert, \round, or \horiz. Default value is \round.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p12"><b>Accessing Instance and Class Variables</b></p>
<p class="p13"><br></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>centered</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>centered_ (bool)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>If true, the knob's center scale, 0.5 is zero in the value scale. eg. as in a pan control. .</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>bool </b>- An instance of <a href="../../Core/Boolean.html"><span class="s8">Boolean</span></a>.<span class="Apple-converted-space">  </span>Default is false.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>mode</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>mode_(arg1)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The knob's tracking mode .</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>arg1</b> - An instance of <a href="../../Core/Symbol.html"><span class="s8">Symbol</span></a>. \round, \horiz or \vert. Default<span class="Apple-converted-space">  </span>is<span class="Apple-converted-space">  </span>\round .</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>value</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>value_ (val)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Gets/sets the the <b>value</b>. This will not do the <b>action</b>.</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val</b> -<span class="Apple-converted-space">  </span>A <a href="../../Math/Number.html"><span class="s8">Number</span></a>.</p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>valueAction_ (val)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Sets the <b>value</b>. Does the <b>action</b>.</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val</b> -<span class="Apple-converted-space">  </span>A Number.</p>
<p class="p7"><br></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>keystep</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>keystep_(arg1)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The step by which the value is incremented/decremented with the keyboard.</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>arg1</b> - A <a href="../../Math/Float.html"><span class="s7">Float</span></a>. Default is 0.01.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>step</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>step_(arg1)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The step in which the value is incremented/decremented while draging in \horiz and \vert modes.</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>arg1</b> - A <a href="../../Math/Float.html"><span class="s7">Float</span></a>. Default is 0.01.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>increment</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>decrement</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Increments or decrements the <b>value</b> by <b>keystep</b>.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>refresh</b></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Redraws the knob</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p12"><b>Customizing Appearance</b></p>
<p class="p7"><br></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>color_(arg1)</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>color</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>arg1</b> - An <a href="../../Collections/Array.html"><span class="s7">Array</span></a> of <a href="../GUI-Tools/Color.html"><span class="s7">Color</span></a>s: [center Color,<span class="Apple-converted-space">  </span>value Color, range Color, dial Color].</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>skin</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>skin_ (newskin)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Get, set the skin of the knob.<span class="Apple-converted-space">  </span>See <b>Examples</b> below for how to set<span class="Apple-converted-space">  </span>a skin.<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>newskin </b>- An instance of Symobl. The default is \default:</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>scale:<span class="Apple-tab-span">	</span><span class="s9">Color</span>.black.alpha_(0.3),</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>center:<span class="Apple-tab-span">	</span><span class="s9">Color</span>.blue(0.7, 0.5),</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>level:<span class="Apple-tab-span">	</span><span class="s9">Color</span>.green(0.8, 0.8),</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dial:<span class="Apple-tab-span">	</span><span class="s9">Color</span>.black.alpha_(0.7),</p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>defaultMode: <span class="s10">'round'</span></p>
<p class="p14"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p15"><span class="Apple-tab-span">	</span></p>
<p class="p12"><b>Subclassing and Internal Methods</b></p>
<p class="p6"><span class="s11"><span class="Apple-tab-span">	</span></span>The following methods are usually not used directly or are called by a primitive. Programmers can still call or override these as needed.</p>
<p class="p7"><span class="Apple-tab-span">	</span></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>defaultKeyDownAction (char, modifiers, unicode)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The default keydown actions are:</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>key</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>action</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>comment</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>r<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>valueAction_</b>(1.0.rand)<span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>n<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>valueAction_</b>(0)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>x<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>valueAction_</b>(1)<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>c<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>valueAction_</b>(0.5)<span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>]<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>increment by <b>keystep</b></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>decrement by <b>keystep</b></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unicode 16rF700, <span class="Apple-tab-span">	</span>increment by <b>keystep</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>up arrow</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unicode 16rF703, <span class="Apple-tab-span">	</span>increment by <b>keystep</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>right arrow</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unicode 16rF701, <span class="Apple-tab-span">	</span>decrement by <b>keystep</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>down arrow</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unicode 16rF702, <span class="Apple-tab-span">	</span>decrement by <b>keystep</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>left arrow</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>mouseDown (x, y, modifiers, buttonNumber, clickCount)</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>mouseMove (x, y, modifiers)</b></p>
<p class="p11"><br></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>*isSquare</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>*isSquare_(bool)</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>*viewClass</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>*compactRatio</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>*initClass</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>*paletteExample (parent, bounds)</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>oldMethodsCompat</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>init (argParent, argBounds)</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>bounds_ (rect)</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>calcConsts (rect)</b></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>draw</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p12"><b>Examples</b></p>
<p class="p16"><br></p>
<p class="p16"><br></p>
<p class="p17">// examples</p>
<p class="p18">(</p>
<p class="p17"><span class="s5">var</span><span class="s2"> window, size = 32; </span>// try different sizes - from 15 to 200 or more!</p>
<p class="p18">window = <span class="s5">Window</span>.new(<span class="s6">"Knob"</span>, <span class="s5">Rect</span>(640,630,270,70)).front;</p>
<p class="p18">k = <span class="s5">Knob</span>.new(window, <span class="s5">Rect</span>(20, 10, size, size));</p>
<p class="p18">k.action_({<span class="s5">|v,x,y,m|</span> postf(<span class="s6">"action func called: %\n"</span>, v.value); });</p>
<p class="p17">//k.color[1] = Color.gray(alpha:0);</p>
<p class="p18">)</p>
<p class="p18">k.value</p>
<p class="p18">k.value = 0.25</p>
<p class="p18">k.valueAction = 0.125</p>
<p class="p16"><br></p>
<p class="p17">// modes</p>
<p class="p18">k.mode = <span class="s12">\vert</span>;</p>
<p class="p18">k.mode = <span class="s12">\horiz</span>;</p>
<p class="p18">k.mode = <span class="s12">\round</span>; <span class="s13">// default</span></p>
<p class="p16"><br></p>
<p class="p18">k.visible</p>
<p class="p18">k.visible = <span class="s5">false</span></p>
<p class="p18">k.visible = <span class="s5">true</span></p>
<p class="p18">k.enabled = <span class="s5">false</span></p>
<p class="p18">k.enabled_(<span class="s5">true</span>)</p>
<p class="p18">k.canFocus = <span class="s5">false</span></p>
<p class="p18">k.canFocus = <span class="s5">true</span></p>
<p class="p16"><br></p>
<p class="p17">// centered mode - like in a pan or eq gain control etc.</p>
<p class="p18">(</p>
<p class="p18"><span class="s5">var</span> window;</p>
<p class="p18">window = <span class="s5">Window</span>.new(<span class="s6">"Pan Knob"</span>, <span class="s5">Rect</span>(640,630,270,70)).front;</p>
<p class="p18">k = <span class="s5">Knob</span>.new(window, <span class="s5">Rect</span>(20,10,36,36));</p>
<p class="p18">k.action_({<span class="s5">|v,x,y,m|</span> <span class="s12">\pan</span>.asSpec.map(v.value).postln; })</p>
<p class="p17">//<span class="Apple-tab-span">	</span>.mode_(\horiz)</p>
<p class="p18"><span class="Apple-tab-span">	</span>.centered_(<span class="s5">false</span>)</p>
<p class="p18"><span class="Apple-tab-span">	</span>.value_(<span class="s12">\pan</span>.asSpec.unmap(0)); <span class="s13">// 0.5</span></p>
<p class="p17">//k.color[1] = Color.gray(alpha:0);</p>
<p class="p18">)</p>
<p class="p18">k.centered</p>
<p class="p18">k.centered = <span class="s5">true</span></p>
<p class="p18">k.centered = <span class="s5">false</span></p>
<p class="p16"><br></p>
<p class="p17">// mouseOverAction</p>
<p class="p18">(</p>
<p class="p18"><span class="s5">var</span> size = 28;</p>
<p class="p18"><span class="s5">GUI</span>.skins.default.knob.mySkin = ( );</p>
<p class="p18">w = <span class="s5">Window</span>.new(<span class="s6">"Knobs"</span>, <span class="s5">Rect</span>(384,630,320,80));</p>
<p class="p17"><span class="s2">w.acceptsMouseOver=</span><span class="s5">true</span><span class="s2">; </span>// true in parent window!</p>
<p class="p18">w.view.decorator = <span class="s5">FlowLayout</span>(w.view.bounds, 10@4, 10@4);</p>
<p class="p18">h = <span class="s5">StaticText</span>(w, 300 @ 16).background_(<span class="s5">Color</span>.blue(0.2,0.1));</p>
<p class="p18">w.view.decorator.nextLine;</p>
<p class="p18">k = <span class="s5">Array</span>.fill(8, {<span class="s5">|item, i|</span></p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="s5">var</span> knob;</p>
<p class="p18"><span class="Apple-tab-span">	</span>knob = <span class="s5">Knob</span>.new(w, size @ size)</p>
<p class="p17"><span class="s2"><span class="Apple-tab-span">	</span></span>//<span class="Apple-tab-span">	</span>.canFocus_(false)</p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s5">|v,x,y,m|</span> h.string = <span class="s6">"value: "</span> ++ v.value.asString; })</p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.mouseOverAction_({<span class="s5">|v,x,y|</span> h.string = <span class="s6">"value: "</span> ++ v.value.asString; });</p>
<p class="p16"><span class="Apple-tab-span">	</span></p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="s5">GUI</span>.skins.default.knob.mySkin.center_(<span class="s5">Color</span>.rand);</p>
<p class="p18"><span class="Apple-tab-span">	</span>knob.skin_( <span class="s5">GUI</span>.skins.default.knob.mySkin );</p>
<p class="p18"><span class="Apple-tab-span">	</span>knob;</p>
<p class="p18">});</p>
<p class="p18">w.front</p>
<p class="p18">)</p>
<p class="p18">k.collect(<span class="s5">_</span>.value);</p>
<p class="p16"><br></p>
<p class="p17">// step - 'horiz' and 'vert' modes only</p>
<p class="p18">(</p>
<p class="p18"><span class="s5">var</span> window, midispec;</p>
<p class="p18">midispec = [0,127,<span class="s12">'linear'</span>,1].asSpec;</p>
<p class="p18">window = <span class="s5">Window</span>.new(<span class="s6">"step Knob"</span>, <span class="s5">Rect</span>(640,630,270,70)).front;</p>
<p class="p18">k = <span class="s5">Knob</span>.new(window, <span class="s5">Rect</span>(20,10,32,32));</p>
<p class="p18">k.action_({<span class="s5">|v,x,y,m|</span> midispec.map(v.value).postln; })</p>
<p class="p18"><span class="Apple-converted-space">       </span>.value_(midispec.unmap(0));</p>
<p class="p16"><br></p>
<p class="p18">k.mode = <span class="s12">\vert</span>;</p>
<p class="p16"><br></p>
<p class="p18">)</p>
<p class="p18">k.step</p>
<p class="p18">k.step = 10/127 // step by 10</p>
<p class="p16"><br></p>
<p class="p18">k.mode = <span class="s12">\horiz</span>;</p>
<p class="p18">k.mode = <span class="s12">\round</span>;</p>
<p class="p16"><br></p>
<p class="p17">// on Sheet</p>
<p class="p18">(</p>
<p class="p19"><span class="s2"><span class="Apple-tab-span">	</span></span>Sheet<span class="s2">({ </span>arg<span class="s2"> l;</span></p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>l.view.decorator.gap=4@4;</p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>l.view.decorator.margin=4@4;</p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>c = <span class="s5">Array</span>.fill(8, { <span class="s5">Knob</span>.new(l, 28@28) });</p>
<p class="p20"><span class="s2"><span class="Apple-tab-span">	</span>}, </span>"Knob"<span class="s2">)</span></p>
<p class="p18">)</p>
<p class="p18">c</p>
<p class="p18">c.collect(<span class="s5">_</span>.value);</p>
<p class="p16"><br></p>
<p class="p17">// GUI Kit</p>
<p class="p18">(</p>
<p class="p18"><span class="Apple-tab-span">	</span>f = {</p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">var</span> size = 32;</p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s5">GUI</span>.window.new(<span class="s6">"GUI.knob Test"</span>, <span class="s5">Rect</span>(580,590,300,80));</p>
<p class="p16"><span class="Apple-tab-span">	</span></p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>k = <span class="s5">GUI</span>.knob.new(w, <span class="s5">Rect</span>(20, 10, size, size));</p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>k.action_({<span class="s5">|v|</span> v.value.postln; });</p>
<p class="p16"><span class="Apple-tab-span">	</span></p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w.front;</p>
<p class="p18"><span class="Apple-tab-span">	</span>};</p>
<p class="p18">)</p>
<p class="p16"><br></p>
<p class="p17"><span class="s5">GUI</span><span class="s2">.cocoa; </span>// select cocoa gui</p>
<p class="p18">f.value;</p>
<p class="p16"><br></p>
<p class="p17"><span class="s5">GUI</span><span class="s2">.swing; </span>// select swing gui</p>
<p class="p18">f.value;</p>
<p class="p16"><br></p>
<p class="p17">// GUI skins</p>
<p class="p17">//<span class="Apple-tab-span">	</span>default skin</p>
<p class="p17">//<span class="Apple-tab-span">	</span>GUI.skins.knob.default = (</p>
<p class="p17">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>scale: Color.black.alpha_(0.3),</p>
<p class="p17">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dial: Color.black.alpha_(0.7),</p>
<p class="p17">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>center: Color.blue(0.7, 0.5),</p>
<p class="p17">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>level: Color.green(0.8, 0.8)</p>
<p class="p17">//<span class="Apple-tab-span">	</span>);</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p18"><span class="s5">GUI</span>.skins.knob.default.level</p>
<p class="p18"><span class="s5">GUI</span>.skins.knob.default.center</p>
<p class="p16"><br></p>
<p class="p16"><br></p>
<p class="p18"><span class="s5">GUI</span>.skins.keys</p>
<p class="p18"><span class="s5">GUI</span>.skins.default.keys</p>
<p class="p16"><br></p>
<p class="p18">(</p>
<p class="p18"><span class="s5">GUI</span>.skins.default.knob.mySkin = ( );</p>
<p class="p16"><br></p>
<p class="p19">Sheet<span class="s2">({ </span>arg<span class="s2"> l;</span></p>
<p class="p16"><span class="Apple-tab-span">	</span></p>
<p class="p18"><span class="Apple-tab-span">	</span>a = <span class="s5">Array</span>.fill( 8, {</p>
<p class="p16"><span class="Apple-tab-span">	</span></p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">GUI</span>.skins.default.knob.mySkin.center_(<span class="s5">Color</span>.rand);</p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">Knob</span>(l, 32@32).skin_( <span class="s5">GUI</span>.skins.default.knob.mySkin );</p>
<p class="p18"><span class="Apple-tab-span">	</span>})</p>
<p class="p16"><span class="Apple-tab-span">	</span></p>
<p class="p20"><span class="s2">}, </span>"Knobs"<span class="s2">);</span></p>
<p class="p18">)</p>
<p class="p16"><br></p>
<p class="p18">a.collect(<span class="s5">_</span>.value);</p>
<p class="p16"><br></p>
<p class="p17">// drag and drop</p>
<p class="p18">(</p>
<p class="p18"><span class="s5">var</span> w, txt, size = 36;</p>
<p class="p18">w = <span class="s5">Window</span>.new(<span class="s6">"Knobs"</span>, <span class="s5">Rect</span>(400,400,250,100)).front;</p>
<p class="p18">w.acceptsMouseOver=<span class="s5">true</span>;</p>
<p class="p18">w.view.decorator = <span class="s5">FlowLayout</span>(w.view.bounds).gap_(10 @ 10).margin_(10 @10);</p>
<p class="p18">txt = <span class="s5">StaticText</span>(w, 200 @ 14);</p>
<p class="p18">w.view.decorator.nextLine;</p>
<p class="p16"><br></p>
<p class="p18">k = <span class="s5">Knob</span>(w, size @ size);</p>
<p class="p18">k.action = {<span class="s5">arg</span> v,x,y;<span class="Apple-converted-space">  </span>v.value.postln; txt.string_(<span class="s6">"value: "</span> ++ v.value); };</p>
<p class="p18">k.mouseOverAction = {<span class="s5">|v|</span> txt.string_(<span class="s6">"value: "</span> ++ v.value); };</p>
<p class="p16"><br></p>
<p class="p18">j = <span class="s5">Knob</span>(w, size @ size);</p>
<p class="p18">j.action = {<span class="s5">arg</span> v,x,y;<span class="Apple-converted-space">  </span>j.value.postln; txt.string_(<span class="s6">"value: "</span> ++ v.value); };</p>
<p class="p18">j.mouseOverAction = { txt.string_(<span class="s6">"value: "</span> ++ j.value); };</p>
<p class="p16"><br></p>
<p class="p18">n = <span class="s5">NumberBox</span>(w, 100 @ 20);</p>
<p class="p17">//n.setProperty(\boxColor,Color.grey(alpha:0.0));</p>
<p class="p18">n.value = 0.0;</p>
<p class="p18">)</p>
<p class="p16"><br></p>
<p class="p17">// customize drag and drop methods</p>
<p class="p18">k.canReceiveDragHandler</p>
<p class="p18">k.canReceiveDragHandler = <span class="s5">false</span>; <span class="s13">// don't accept drops</span></p>
<p class="p16"><br></p>
<p class="p18">k.canReceiveDragHandler = { <span class="s5">View</span>.currentDrag.isFloat }; <span class="s13">// accept only if drag is float</span></p>
<p class="p16"><br></p>
<p class="p18">k.receiveDragHandler = { (<span class="s6">"value droped in: "</span> ++ <span class="s5">View</span>.currentDrag).postln }</p>
<p class="p16"><br></p>
<p class="p18">k.receiveDragHandler = { k.valueAction = <span class="s5">View</span>.currentDrag.clip(0.0, 1.0); }</p>
<p class="p16"><br></p>
<p class="p18">k.beginDragAction = { (<span class="s6">"drag out -&gt; "</span> ++ k.value).postln; }</p>
<p class="p16"><br></p>
<p class="p18">k.beginDragAction = { k.value.asFloat; }</p>
</body>
</html>
