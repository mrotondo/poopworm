<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.43">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #001ee6}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p6 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p8 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p9 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica}
p.p10 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p14 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p15 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p16 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco}
p.p17 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #000000}
p.p18 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #007300}
p.p19 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p20 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p21 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #bf0000}
p.p22 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #606060}
p.p23 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; color: #0000bf}
p.p24 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #606060}
p.p25 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000; min-height: 14.0px}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #6b718a}
span.s3 {color: #000000}
span.s4 {text-decoration: underline}
span.s5 {color: #6f7178}
span.s6 {color: #0000bf}
span.s7 {color: #bf0000}
span.s8 {color: #676d92}
span.s9 {font: 12.0px Helvetica}
span.s10 {color: #656b96}
span.s11 {color: #666c94}
span.s12 {color: #636a99}
span.s13 {color: #696f8e}
span.s14 {color: #5f689f}
span.s15 {color: #61699c}
span.s16 {font: 14.0px Helvetica}
span.s17 {color: #6f7179}
span.s18 {font: 9.0px Monaco}
span.s19 {color: #606060}
span.s20 {color: #007300}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>SCMultiSliderView<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>a richly configurable view for graphically displaying and editing an array of values</b></p>
<p class="p2"><br></p>
<p class="p1"><b>Inherits from: </b><a href="../../Core/Object.html"><span class="s2"><b>Object</b></span></a><b> : </b><a href="SCView.html"><span class="s2"><b>SCView</b></span></a></p>
<p class="p3"><br></p>
<p class="p1">SCMultiSliderView on the surface is like a group of sliders. However, various graphical options allow you to use it for displaying and editing graphic representations of array values. It is also the super class of <a href="SCEnvelopeView.html"><span class="s2">SCEnvelopeView</span></a>.</p>
<p class="p2"><br></p>
<p class="p4"><span class="s3"><b>See also:</b> <a href="SCEnvelopeView.html"><span class="s4">SCEnvelopeView</span></a></span></p>
<p class="p2"><br></p>
<p class="p5"><b>Some Important Issues Regarding SCMultiSliderView</b></p>
<p class="p2"><br></p>
<p class="p1">If no instance variables other than parent and bounds are set, then a multislider with bounds.width/12 sliders is created. However, the default thumbSize is 12 and the gap default is 1. The view width has to be 13*n+2 for all the sliders to automatically fit in the view.</p>
<p class="p2"><br></p>
<p class="p1">So if you want a specific number of sliders, then it is best to specify the <b>size</b> and set <b>elasticMode</b> to 1. Then you will get a multislider which distrubutes <b>size</b> amount of sliders over <b>bounds.width</b>, where the slider widths are at <i>maximum</i> <b>indexThumbSize</b> (default 12) and the <b>gap</b> is adusted accordingly.</p>
<p class="p2"><br></p>
<p class="p5"><b>Creation / Class Methods</b></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>*new (parent, bounds)</b></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>parent </b>- The parent view.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>bounds </b>- An instance of <a href="../../Geometry/Rect.html"><span class="s5">Rect</span></a>, or a <a href="../../Geometry/Point.html"><span class="s5">Point</span></a> indicating width@height.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>n=20;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s6">Window</span>.new.front;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m = <span class="s6">MultiSliderView</span>(w,<span class="s6">Rect</span>(10,10,n*13+2,100)); <span class="s7">//default thumbWidth is 13</span></p>
<p class="p13"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m.value=</span><span class="s6">Array</span><span class="s3">.fill(n, {</span><span class="s6">|v|</span><span class="s3"> v*0.05}); </span>// size is set automatically when you set the value</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m.action = { <span class="s6">arg</span> q;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>q.value.postln;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>};</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">)</span></p>
<p class="p6"><br></p>
<p class="p14"><b>Accessing Instance and Class Variables</b></p>
<p class="p15"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>size</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>size_(arg1)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Gets/sets the size of the array returned by <b>action</b>, <i>if you explicitly set the size</i>. If you do not set the size nor value, then the size of the array returned by action will be the amount of sliders in the view, which is <b>bounds.width</b>/12. Changing <b>size, </b>after the the multislider has been drawn or after the <b>value</b> array has been set, will lead to unexpected results. Instead, you should change the content of <b>value, </b>if you need to change the multislider contents.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>arg1 - </b>An Integer.</p>
<p class="p8"><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>indexIsHorizontal_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Determines the index direction (vertical/horizontal) of the slider.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- An instance of <a href="../../Core/Boolean.html"><span class="s8">Boolean</span></a>. Default is true.</p>
<p class="p10"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>editable</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>editable_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Determines if the sliders are editable. If editable is false, the multislider will still execute <b>action</b> on mouse click.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- An instance of <a href="../../Core/Boolean.html"><span class="s8">Boolean</span></a>.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>readOnly_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- boolean.</p>
<p class="p6"><span class="s9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>step</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>step_ (stepSize)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Quantizes the values to the nearest multiple of stepSize.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>stepSize </b>- An instance of <a href="../../Math/Float.html"><span class="s10">Float</span></a>.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p14"><b>Accessing and Setting Values</b></p>
<p class="p15"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>value</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>value_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Gets/sets the property, \value, by calling get/setProperty(\value, <b>val</b>). The setter also sets <b>size</b> to the size of <b>val</b>. This will not do the <b>action</b> of the slider.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- An instance of <a href="../../Collections/Array.html"><span class="s11">Array</span></a>.</p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>valueAction_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Sets the property, \value, by calling setPropertyWithAction(\value, <b>val</b>). Also sets <b>size</b> to the size of <b>val. </b>Does the sliders <b>action</b>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- An instance of <a href="../../Collections/Array.html"><span class="s11">Array</span></a>.</p>
<p class="p15"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>index</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>index_ (inx)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Gets/sets the first index of the selection range.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>inx </b>- an integer.</p>
<p class="p6"><span class="s9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>selectionSize</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>selectionSize_ (aval)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Gets/sets the size of the selection. Can be 0.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>aval </b>- An integer.</p>
<p class="p6"><span class="s9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>startIndex_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- An integer.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>currentvalue</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>currentvalue_ (iny)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Gets/sets the value at the current <b>index</b>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>iny </b>- A float between 0 and 1.</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>reference</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>reference_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Sets a reference value, and draws it according to other drawing options: as a line, or a thumb.<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- An <a href="../../Collections/Array.html"><span class="s12">Array</span></a> of <a href="../../Math/Float.html"><span class="s12">Float</span></a>s between 0 and 1;</p>
<p class="p6"><span class="s9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>metaAction_(arg1)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>metaAction</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Gets/sets a function to be evaluate on Ctrl-click</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>arg1 - </b>An instance of <a href="../../Core/Kernel/Function.html"><span class="s13">Function</span></a>. Default value is nil.</p>
<p class="p15"><br></p>
<p class="p14"><b>Customizing Appearance</b></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>showIndex_ (abool)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Highlights the currently selected index.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>abool </b>- An Instance of <a href="../../Core/Boolean.html"><span class="s10">Boolean</span></a>. Default is false.</p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>elasticMode</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>elasticMode_ (mode)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Determines if the sliders are distributed over the width of the view. If resize is 2, 3, or 8, then the width and gap of the individual sliders will adjust automatically using a maximum slider with of <b>thumbSize</b>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>mode </b>- 0 or 1</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>thumbSize_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Sets the <b>indexThumbSize_</b> of the sliders. If elasticMode is 1, then it determines the maximum indexThumbSize of the slider as well as the <b><span class="Apple-tab-span">	</span></b>valueThumbSize.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- A Float or Integer.</p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>indexThumbSize_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The size of the slider thumb in the index direction.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- A Float or Integer.</p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>valueThumbSize_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The size of the slider thumb in the value direction.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- A Float or Integer.</p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>drawLines (abool)</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>drawLines_ (abool)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Draws connecting lines between the values.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>abool </b>- An instance of <a href="../../Core/Boolean.html"><span class="s11">Boolean</span></a>. default is false.</p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>drawRects_ (abool)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Draws the thumbs of the sliders.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>abool </b>- An instance of <a href="../../Core/Boolean.html"><span class="s11">Boolean</span></a>. default is true.</p>
<p class="p8"><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>gap</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>gap_ (inx)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Set/get the property, \xOffset, which is gap between the sliders. This value is ignored if <b>elasticMode</b> is set to 1.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>inx </b>- An integer.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>isFilled_ (abool)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>If set to true, this extends the thumb-rectangle to the edge, like in a bar graph. Fills the area between 0 and the value, or between 0 and the reference, depending on other draw options. If drawLines_(true) and drawRects_(false) and isFilled_(true), then it will fill the value between the value and the reference only.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>abool </b>- An instance of <a href="../../Core/Boolean.html"><span class="s14">Boolean</span></a>.</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p16"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>n=80;</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s6">Window</span>.new;</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m = <span class="s6">MultiSliderView</span>(w,<span class="s6">Rect</span>(10,10,20*13+2,100)); <span class="s7">//default thumbWidth is 13</span></p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m.elasticMode_(1);</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m.value=<span class="s6">Array</span>.fill(n, {<span class="s6">|v|</span> 1.0.rand});</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m.reference=<span class="s6">Array</span>.fill(n, {<span class="s6">|v|</span> 0.5});</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m.action = { <span class="s6">arg</span> q;q.value.postln; };</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m.isFilled_ (<span class="s6">true</span>);</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m.drawLines_(<span class="s6">true</span>);</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>m.drawRects_(<span class="s6">false</span>);</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w.front;</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">)</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>fillColor_ (acolor)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The fill color of the view.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>acolor </b>- An instance of <a href="../GUI-Tools/Color.html"><span class="s15">Color</span></a>.</p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>strokeColor_ (acolor)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The line color of the view.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>acolor </b>- An instance of <a href="../GUI-Tools/Color.html"><span class="s15">Color</span></a>.</p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>colors_ (strokec, fillc)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Sets the stroke and fill colors of the graph.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>strokec </b>- An instance of <a href="../GUI-Tools/Color.html"><span class="s15">Color</span></a>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>fillc </b>- An instance of <a href="../GUI-Tools/Color.html"><span class="s15">Color</span></a>.</p>
<p class="p6"><br></p>
<p class="p14"><b>Subclassing and Internal Methods</b></p>
<p class="p7"><span class="s16"><span class="Apple-tab-span">	</span></span>The following methods are usually not used directly or are called by a primitive. Programmers can still call or override these as needed.</p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>defaultKeyDownAction (char, modifiers, unicode)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The default keydown actions are:</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>key</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>action</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>comment</b></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unicode 16rF703, <span class="Apple-tab-span">	</span>increment index by <b>1</b><span class="Apple-tab-span">	</span>right arrow</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unicode 16rF702, <span class="Apple-tab-span">	</span>decrement index by <b>1</b><span class="Apple-tab-span">	</span>left arrow<span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unicode 16rF700, <span class="Apple-tab-span">	</span>decrement gap by <b>1</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>up arrow</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>unicode 16rF701, <span class="Apple-tab-span">	</span>increment gap by <b>1</b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>down arrow</p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>properties</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>A list of properties to which this view responds. See <a href="SCView.html"><span class="s17">SCView</span></a>.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>returns:</p>
<p class="p18"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[ </span>\bounds<span class="s3">, </span>\visible<span class="s3">, </span>\enabled<span class="s3">, </span>\canFocus<span class="s3">, </span>\resize<span class="s3">, </span>\background<span class="s3">, </span>\minWidth<span class="s3">, </span>\maxWidth<span class="s3">, </span>\minHeight<span class="s3">, </span>\maxHeight<span class="s3">, </span>\value<span class="s3">, </span>\thumbSize<span class="s3">, </span>\fillColor<span class="s3">, </span>\strokeColor<span class="s3">, </span>\xOffset<span class="s3">, </span>\x<span class="s3">, </span>\y<span class="s3">, </span>\showIndex<span class="s3">, </span>\drawLines<span class="s3">, </span>\drawRects<span class="s3">, </span>\selectionSize<span class="s3">, </span>\startIndex<span class="s3">, </span>\referenceValues<span class="s3">, </span>\thumbWidth<span class="s3">, </span>\absoluteX<span class="s3">, </span>\isFilled<span class="s3">, </span>\step<span class="s3">, </span>\elasticResizeMode<span class="s3"> ]<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>defaultGetDrag</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The method called by default when initiating a drag <b>from</b> an SCNumberBox.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Tho following describes the defaultbehavior:</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a) if selectionSize is 0, returns the content of value (an Array):</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b) if selectionSize &gt; 1, returns an Array with the values at the indexes in the selection;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if references is not nil, returns an array containing (a) or (b) , and an array of the relevant reference values ; [ [values], [references] ]</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><b>defaultCanReceiveDrag</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The method called by default when attempting to place a drag in this object. Will recieve any drag, but the drag should either be an array of values, ( [ values ] ), or an array containg an array of values and an array of reference values ( [ [values], [references] ] ).</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s18"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></p>
<p class="p7"><span class="Apple-tab-span">	</span><b>defaultReceiveDrag</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The default method called when a drag has been received. If the <b>currentDrag</b> is a String, then Performs <b>value_()</b> <b>and reference_()</b> using <b>currentDrag</b> as an argument. Does not perform the <b>action</b>.</p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>doMetaAction</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Not normally called directly (called by the primitive).</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p14"><b>Examples</b></p>
<p class="p19"><br></p>
<p class="p13">// basic</p>
<p class="p12">(</p>
<p class="p12">n=20;</p>
<p class="p12">w = <span class="s6">Window</span>.new.front;</p>
<p class="p12">m = <span class="s6">MultiSliderView</span>(w,<span class="s6">Rect</span>(10,10,n*13+2,100)); <span class="s7">//default thumbWidth is 13</span></p>
<p class="p13"><span class="s3">m.value=</span><span class="s6">Array</span><span class="s3">.fill(n, {</span><span class="s6">|v|</span><span class="s3"> v*0.05}); </span>// size is set automatically when you set the value</p>
<p class="p12">m.action = { <span class="s6">arg</span> q;</p>
<p class="p12"><span class="Apple-tab-span">	</span>q.value.postln;</p>
<p class="p12">};</p>
<p class="p12">)<span class="Apple-tab-span">	</span></p>
<p class="p19"><br></p>
<p class="p19"><br></p>
<p class="p13">// looks like a candlestick graph</p>
<p class="p12">(</p>
<p class="p12"><span class="s6">var</span> size;</p>
<p class="p12">size = 350 / 6;</p>
<p class="p12">w = <span class="s6">Window</span>.new;</p>
<p class="p12">w.view.decorator = <span class="s6">FlowLayout</span>(w.view.bounds);</p>
<p class="p12">m = <span class="s6">MultiSliderView</span>(w, <span class="s6">Rect</span>(0, 0, 350, 100));<span class="Apple-tab-span">	</span></p>
<p class="p12">m.value_(<span class="s6">Array</span>.fill(size, {0.01}));</p>
<p class="p13"><span class="s3">m.isFilled_(</span><span class="s6">true</span><span class="s3">); </span>// width in pixels of each stick</p>
<p class="p13"><span class="s3">m.indexThumbSize_(2.0); </span>// spacing on the value axis</p>
<p class="p12">m.gap_(4);</p>
<p class="p12">w.front;</p>
<p class="p12">)</p>
<p class="p19"><br></p>
<p class="p13">// rotate the above graph</p>
<p class="p12">(</p>
<p class="p12">m.bounds_(<span class="s6">Rect</span>(0, 0, 100, 350));</p>
<p class="p12">m.indexIsHorizontal_(<span class="s6">false</span>);</p>
<p class="p12">)</p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p14"><b>Interactive Example (explains all the graphic options)</b></p>
<p class="p19"><br></p>
<p class="p17">(</p>
<p class="p17">n=40;</p>
<p class="p20"><br></p>
<p class="p17">w = <span class="s6">Window</span>(<span class="s19">"MultiSlider Options"</span>, <span class="s6">Rect</span>(200, <span class="s6">Window</span>.screenBounds.height-550, 600, 450));</p>
<p class="p17">f={<span class="Apple-tab-span">	</span></p>
<p class="p17"><span class="Apple-tab-span">	</span>w.view.decorator = <span class="s6">FlowLayout</span>( w.view.bounds, 10@10, 10@2 );</p>
<p class="p21"><span class="s3"><span class="Apple-tab-span">	</span>m = </span><span class="s6">MultiSliderView</span><span class="s3">(w,</span><span class="s6">Rect</span><span class="s3">(0,0,580,200)); </span>// default thumbWidth is 13</p>
<p class="p17"><span class="Apple-tab-span">	</span>m.value=<span class="s6">Array</span>.fill(n, {<span class="s6">|v|</span> 0.5+((0.3*v).sin*0.25)});</p>
<p class="p17"><span class="Apple-tab-span">	</span>m.action = { <span class="s6">arg</span> q;q.value.postln; };</p>
<p class="p20"><span class="Apple-tab-span">	</span></p>
<p class="p22"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s6">StaticText</span><span class="s3">(w,380@18).string_(</span>"indexThumbSize or thumbSize"<span class="s3">);</span></p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">Slider</span>(w,580@10).action_({<span class="s6">arg</span> sl; m.indexThumbSize=sl.value*24}).value_(0.5);</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">StaticText</span>(w,380@18).string_(<span class="s19">"valueThumbSize"</span>);</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">Slider</span>(w,580@10).action_({<span class="s6">arg</span> sl; m.valueThumbSize=sl.value*24}).value_(0.5);</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">StaticText</span>(w,580@18).string_(<span class="s19">"xOffset or gap"</span>);</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">Slider</span>(w,580@10).action_({<span class="s6">arg</span> sl;0.5- m.xOffset=sl.value*50});</p>
<p class="p22"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s6">StaticText</span><span class="s3">(w,580@18).string_(</span>"setProperty(\\startIndex)"<span class="s3">);</span></p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">Slider</span>(w,580@10).action_({<span class="s6">arg</span> sl; m.setProperty(<span class="s20">\startIndex</span>, sl.value *m.size )};);</p>
<p class="p20"><span class="Apple-tab-span">	</span></p>
<p class="p23"><span class="s3"><span class="Apple-tab-span">	</span></span>CompositeView<span class="s3">(w,580@10);</span><span class="s7">//spacer</span></p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">Button</span>(w,100@20).states_([[<span class="s19">"RESET"</span>,<span class="s6">Color</span>.red]])</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({ w.view.removeAll; f.value; });</p>
<p class="p17"><span class="Apple-tab-span">	</span>h=<span class="s6">StaticText</span>(w,450@18).string_(<span class="s19">""</span>).stringColor_(<span class="s6">Color</span>.yellow);</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">Button</span>(w,100@20).states_([[<span class="s19">"elasticMode = 0"</span>],[<span class="s19">"elasticMode = 1"</span>,<span class="s6">Color</span>.white]])</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s6">|b|</span> m.elasticMode = b.value});</p>
<p class="p22"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s6">Button</span><span class="s3">(w,160@20).states_([[</span>"indexIsHorizontal = false"<span class="s3">],[</span>"indexIsHorizontal = true"<span class="s3">,</span><span class="s6">Color</span><span class="s3">.white]])</span></p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s6">|b|</span> m.indexIsHorizontal = b.value.booleanValue}).value_(1);</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">Button</span>(w,120@20).states_([[<span class="s19">"isFilled = false"</span>],[<span class="s19">"isFilled = true"</span>,<span class="s6">Color</span>.white]])</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s6">|b|</span> m.isFilled = b.value.booleanValue});</p>
<p class="p22"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s6">Button</span><span class="s3">(w,120@20).states_([[</span>"drawRects = false"<span class="s3">],[</span>"drawRects = true"<span class="s3">,</span><span class="s6">Color</span><span class="s3">.white]])</span></p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s6">|b|</span> m.drawRects = b.value.booleanValue}).valueAction_(1);</p>
<p class="p22"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s6">Button</span><span class="s3">(w,100@20).states_([[</span>"drawLines = false"<span class="s3">],[</span>"drawLines = true"<span class="s3">,</span><span class="s6">Color</span><span class="s3">.white]])</span></p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s6">|b|</span> m.drawLines = b.value.booleanValue});</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">Button</span>(w,160@20).states_([[<span class="s19">"readOnly = false"</span>],[<span class="s19">"readOnly = true"</span>,<span class="s6">Color</span>.white]])</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s6">|b|</span> m.readOnly = b.value.booleanValue});</p>
<p class="p22"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s6">Button</span><span class="s3">(w,120@20).states_([[</span>"showIndex = false"<span class="s3">],[</span>"showIndex = true"<span class="s3">,</span><span class="s6">Color</span><span class="s3">.white]])</span></p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s6">|b|</span> m.showIndex = b.value.booleanValue});</p>
<p class="p22"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s6">Button</span><span class="s3">(w,120@20).states_([[</span>"reference = nil"<span class="s3">],[</span>"reference filled"<span class="s3">,</span><span class="s6">Color</span><span class="s3">.white],[</span>"reference random"<span class="s3">,</span><span class="s6">Color</span><span class="s3">.yellow]])</span></p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.action_({<span class="s6">|b|</span> b.value.booleanValue.if({</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(b.value&gt;1).if(</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{m.reference=<span class="s6">Array</span>.fill(n, {1.0.rand})},</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{m.reference=<span class="s6">Array</span>.fill(m.size, {0.5})});</p>
<p class="p22"><span class="s3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>},{ q=m.value;m.reference=[]; h.string=</span>"reference can't be returned to nil presently. please hit RESET."<span class="s3">}</span></p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">Button</span>(w,180@20).states_([[<span class="s19">"fillColor = Color.rand"</span>]]).action_({m.fillColor=<span class="s6">Color</span>.rand});</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">Button</span>(w,180@20).states_([[<span class="s19">"strokeColor = Color.rand"</span>]]).action_({m.strokeColor=<span class="s6">Color</span>.rand});</p>
<p class="p17"><span class="Apple-tab-span">	</span><span class="s6">Button</span>(w,180@20).states_([[<span class="s19">"background = Color.rand"</span>]]).action_({m.background=<span class="s6">Color</span>.rand});</p>
<p class="p20"><span class="Apple-tab-span">	</span></p>
<p class="p17">};</p>
<p class="p17">f.value;</p>
<p class="p17">w.front;</p>
<p class="p20"><br></p>
<p class="p17">)</p>
<p class="p20"><br></p>
<p class="p6"><br></p>
<p class="p14"><b>Load a Sound file</b></p>
<p class="p3"><br></p>
<p class="p19"><br></p>
<p class="p12">(</p>
<p class="p13">// press shift to extend the selection</p>
<p class="p13">// use as waveView: scrubbing over the view returns index</p>
<p class="p13">// if showIndex(false) the view is not refreshed (faster);</p>
<p class="p13">// otherwise you can make a selection with shift - drag.</p>
<p class="p12"><span class="s6">var</span> size, file, maxval, minval;</p>
<p class="p12">size = 640;</p>
<p class="p12">a = <span class="s6">Window</span>(<span class="s19">"test"</span>, <span class="s6">Rect</span>(200 , 140, 650, 150));</p>
<p class="p12">a.view.decorator = <span class="s6">FlowLayout</span>(a.view.bounds);</p>
<p class="p12">b = <span class="s6">MultiSliderView</span>(a, <span class="s6">Rect</span>(0, 0, size, 50));</p>
<p class="p12">b.readOnly_(<span class="s6">true</span>);</p>
<p class="p12">a.view.decorator.nextLine;</p>
<p class="p19"><br></p>
<p class="p19"><br></p>
<p class="p19"><br></p>
<p class="p12">d = <span class="s6">Array</span>.new;</p>
<p class="p12">c = <span class="s6">FloatArray</span>.newClear(65493);</p>
<p class="p19"><br></p>
<p class="p12">r = <span class="s6">Slider</span>( a, <span class="s6">Rect</span>(0, 0, size, 12));</p>
<p class="p12">r.action = {<span class="s6">arg</span> ex; b.setProperty(<span class="s20">\xOffset</span>, (ex.value * 4) + 1 )};</p>
<p class="p19"><br></p>
<p class="p12">file = <span class="s6">SoundFile</span>.new;</p>
<p class="p24"><span class="s3">file.openRead(</span>"sounds/a11wlk01.wav"<span class="s3">);</span></p>
<p class="p12">file.numFrames.postln;</p>
<p class="p12">file.readData(c);</p>
<p class="p13">// file.inspect;</p>
<p class="p12">file.close;</p>
<p class="p12">minval = 0;</p>
<p class="p12">maxval = 0;</p>
<p class="p12">f = <span class="s6">Array</span>.new;</p>
<p class="p12">d = <span class="s6">Array</span>.new;</p>
<p class="p12">c.do({<span class="s6">arg</span> fi, i;</p>
<p class="p12"><span class="Apple-tab-span">	</span>if(fi &lt; minval, {minval = fi});</p>
<p class="p12"><span class="Apple-tab-span">	</span>if(fi &gt; maxval, {maxval = fi});</p>
<p class="p19"><br></p>
<p class="p13"><span class="s3"><span class="Apple-tab-span">	</span></span>//f.postln;</p>
<p class="p12"><span class="Apple-tab-span">	</span>if(i % 256 == 0,{</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>d = d.add((1 + maxval ) * 0.5 );</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>f = f.add((1 + minval ) * 0.5 );</p>
<p class="p19"><span class="Apple-tab-span">	</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>minval = 0;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>maxval = 0;</p>
<p class="p12"><span class="Apple-tab-span">	</span>});</p>
<p class="p12">});</p>
<p class="p19"><br></p>
<p class="p13"><span class="s3">b.reference_(d); </span>// this is used to draw the upper part of the table</p>
<p class="p12">b.value_(f);</p>
<p class="p19"><br></p>
<p class="p12">r = <span class="s6">Slider</span>( a, <span class="s6">Rect</span>(0, 0, size, 12));</p>
<p class="p12">r.action = {<span class="s6">arg</span> ex; b.setProperty(<span class="s20">\startIndex</span>, ex.value *f.size )};</p>
<p class="p19"><br></p>
<p class="p13">// b.enabled_(false);</p>
<p class="p12">b.action = {<span class="s6">arg</span> xb; (<span class="s19">"index: "</span> ++ xb.index).postln};</p>
<p class="p12">b.drawLines_(<span class="s6">true</span>);</p>
<p class="p12">b.drawRects_(<span class="s6">false</span>);</p>
<p class="p12">b.isFilled_(<span class="s6">true</span>);</p>
<p class="p12">b.selectionSize_(10);</p>
<p class="p12">b.index_(10);</p>
<p class="p12">b.thumbSize_(1);</p>
<p class="p12">b.gap_(0);</p>
<p class="p12">b.colors_(<span class="s6">Color</span>.black, <span class="s6">Color</span>.blue(1.0,1.0));</p>
<p class="p12">b.showIndex_(<span class="s6">true</span>);</p>
<p class="p12">a.front;</p>
<p class="p19"><br></p>
<p class="p12">)</p>
<p class="p3"><br></p>
<p class="p1"><b>Use as Sequencer</b></p>
<p class="p25"><br></p>
<p class="p13">// example with sound</p>
<p class="p12">(</p>
<p class="p12"><span class="s6">var</span> size;</p>
<p class="p12">size = 12;</p>
<p class="p12">s.waitForBoot{<span class="Apple-tab-span">	</span></p>
<p class="p12"><span class="Apple-tab-span">	</span>n={<span class="s6">arg</span> freq=330; <span class="s6">SinOsc</span>.ar(freq,0,0.2)}.play;</p>
<p class="p19"><br></p>
<p class="p12"><span class="Apple-tab-span">	</span>w = <span class="s6">Window</span>(<span class="s19">"test"</span>, <span class="s6">Rect</span>(200 , 450, 10 + (size * 17), 10 + (size * 17)));</p>
<p class="p12"><span class="Apple-tab-span">	</span>w.view.decorator = <span class="s6">FlowLayout</span>(w.view.bounds);</p>
<p class="p12"><span class="Apple-tab-span">	</span>b = <span class="s6">MultiSliderView</span>(w, <span class="s6">Rect</span>(0, 0, size * 17, size * 17));</p>
<p class="p12"><span class="Apple-tab-span">	</span>b.value_( <span class="s6">Array</span>.fill(size,{<span class="s6">|i|</span> i/size}) );</p>
<p class="p12"><span class="Apple-tab-span">	</span>b.background_(<span class="s6">Color</span>.rand);</p>
<p class="p12"><span class="Apple-tab-span">	</span>b.action = {<span class="s6">arg</span> xb;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>n.set(<span class="s20">\freq</span>, 330+(1100*xb.value.at(xb.index)));</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(<span class="s19">"index: "</span> ++ xb.index ++<span class="s19">" value: "</span> ++ xb.value.at(xb.index)).postln};</p>
<p class="p13"><span class="s3"><span class="Apple-tab-span">	</span>b.elasticMode_(1); </span>// makes the squares fit evenly</p>
<p class="p12"><span class="Apple-tab-span">	</span>b.setProperty(<span class="s20">\showIndex</span>, <span class="s6">true</span>); <span class="s7">// cursor mode</span></p>
<p class="p12"><span class="Apple-tab-span">	</span>b.readOnly=<span class="s6">true</span>;</p>
<p class="p12"><span class="Apple-tab-span">	</span>w.front;</p>
<p class="p19"><span class="Apple-tab-span">	</span></p>
<p class="p12"><span class="Apple-tab-span">	</span>r = <span class="s6">Routine</span>({</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0.1.wait;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>30.do({ <span class="s6">arg</span> i;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b.index_(i%size);</p>
<p class="p19"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b.doAction;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0.1.wait;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p19"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>20.do({ <span class="s6">arg</span> i;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b.index_(b.size.rand);</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>b.doAction;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[0.1,0.2].choose.wait;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>1.wait;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>n.free;</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>{w.close}.defer;</p>
<p class="p12"><span class="Apple-tab-span">	</span>});</p>
<p class="p12"><span class="Apple-tab-span">	</span><span class="s6">AppClock</span>.play(r);</p>
<p class="p12">};</p>
<p class="p12">)</p>
<p class="p12">Note: <span class="s6">this</span> forces the entire view to redraw at each step and will spend a lot of <span class="s6">CPU</span>.</p>
<p class="p19"><br></p>
<p class="p3"><br></p>
</body>
</html>
