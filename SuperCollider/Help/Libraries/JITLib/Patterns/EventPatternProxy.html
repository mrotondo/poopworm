<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.43">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #007300}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0000bf}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000; min-height: 12.0px}
span.s1 {font: 18.0px Helvetica}
span.s2 {font: 9.0px Monaco}
span.s3 {color: #0000bf}
span.s4 {color: #0000bf}
span.s5 {color: #606060}
span.s6 {color: #000000}
span.s7 {color: #007300}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>EventPatternProxy<span class="Apple-tab-span">	</span></b></span><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><b>event stream reference</b></p>
<p class="p2"><br></p>
<p class="p1">superclass: TaskProxy</p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p1">keeps a reference to a stream that can be replaced while playing.</p>
<p class="p1">Multiple streams are thus handled without creating dependancies.</p>
<p class="p3"><br></p>
<p class="p1">related: <a href="Pdef.html"><span class="s3">Pdef</span></a></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>*new(source)</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>create a new instance with a pattern (the source).</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>the pattern should be an <i>event pattern</i> (see <b>Pdef</b>)</p>
<p class="p3"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>*default</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a default source, if none is given. the default is a Pbind with resting notes of 1.0 beat duration</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>source_(obj)</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>set the source (a pattern). If a quantization is given, schedule this change to the next beat</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(<b>pattern_</b>(..) is equivalent)</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>clear</b><span class="Apple-tab-span">	</span>set the source to nil</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>quant_(beats)</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>set the quantization value. can be an array<span class="Apple-converted-space">  </span>[quant, phase, offset, outset]</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>quant</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>get the quantization value</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>*defaultQuant_(beats)</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>set the default quantization value for the class. (default: 1.0)</p>
<p class="p3"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>fadeTime_(beats)</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>when the synthdefs that are used contain an \amp control, the patterns are replaced</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>by crossfading the previous with the new over this time (in beats)</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>envir_(event)</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>provide a default event for the Pdef. It is used to filter the incoming stream before it</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>is<span class="Apple-converted-space">  </span>passed to the source pattern.<span class="Apple-converted-space">  </span>This is similar to NodeProxy-nodeMap.</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>When set for the first time, the pattern is rebuilt.</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>set(key, val, key2, val2, ...)</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>set arguments in the default event. If there is none, it is created and the pattern is rebuilt.</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p1"><b><i>a) using as stream reference</i></b></p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p3"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>asStream</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>returns an instance of RefStream, which updates its stream as soon as the pattern</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>is changed.</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>embedInStream(inval)</b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>just like any pattern, embeds itself in stream</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p1"><b><i>b) using as EventStreamPlayer</i></b></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>play(clock, protoEvent, quant)</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>starts the EventPatternProxy and creates a player.<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if you want to play multiple instances, use <b>.fork(clock, quant, protoEvent)</b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>quant </b>can be an array of [quant, phase, offset, outset]</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>stop</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>stops the player</p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>player</b><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>the current player (if the Pdef is simply used in other streams this is nil)</p>
<p class="p3"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>pause / resume / reset / mute / unmute</b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>perform player method<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>isPlaying</b><span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>returns true if Pdef is running.</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>if a Pdef is playing and its stream ends, it will schedule a stream for playing<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>as soon as a new one is assigned to it.</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p1"><b><i>a) embedding EventPatternProxy in streams:</i></b></p>
<p class="p3"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p4">(</p>
<p class="p4"><span class="s4">SynthDef</span>(<span class="s5">"Pdefhelp"</span>, { <span class="s4">arg</span> out, freq, sustain=1, amp=1, pan;</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="s4">var</span> env, u=1;</p>
<p class="p4"><span class="Apple-tab-span">	</span>env = <span class="s4">EnvGen</span>.kr(<span class="s4">Env</span>.perc(0.03, sustain), 1, doneAction:2);</p>
<p class="p4"><span class="Apple-tab-span">	</span>5.do { <span class="s4">var</span> d; d = exprand(0.01, 1); u = <span class="s4">SinOsc</span>.ar(d * 300, u, rrand(0.1,1.2) * d, 1) };</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="s4">Out</span>.ar(out, <span class="s4">Pan2</span>.ar(<span class="s4">SinOsc</span>.ar(u + 1 * freq, 0, amp * env), pan));</p>
<p class="p2"><br></p>
<p class="p4">}).store;</p>
<p class="p4">)</p>
<p class="p4">s.boot;</p>
<p class="p2"><br></p>
<p class="p4">#a, b, c, m = { <span class="s4">EventPatternProxy</span>.new } ! 4;</p>
<p class="p2"><br></p>
<p class="p4">m.play;</p>
<p class="p5"><span class="s6">m.source = </span><span class="s4">Pbind</span><span class="s6">(</span>\instrument<span class="s6">, </span>\Pdefhelp<span class="s6">, </span>\dur<span class="s6">, 1, </span>\degree<span class="s6">, 16, </span>\legato<span class="s6">, 0.1);</span></p>
<p class="p2"><br></p>
<p class="p4">a.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.25, <span class="s7">\degree</span>, <span class="s4">Pseq</span>(#[0, 5, 4, 3]));</p>
<p class="p4">b.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.125, <span class="s7">\degree</span>, <span class="s4">Pseq</span>(#[7, 8, 7, 8]));</p>
<p class="p4">c.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.25, <span class="s7">\degree</span>, <span class="s4">Pseq</span>(#[0, 1, 2], 2));</p>
<p class="p2"><br></p>
<p class="p4">x = <span class="s4">Pseq</span>([a, b, c], <span class="s4">inf</span>).play;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p4">c.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.25, <span class="s7">\degree</span>, <span class="s4">Pseq</span>(#[4, 3, 1, 2]*3));</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p6">// infinite loops are scheduled (to ths clock's next beat by default) and released:</p>
<p class="p2"><br></p>
<p class="p4">a.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.753, <span class="s7">\degree</span>, <span class="s4">Pseq</span>(#[0, 5, 4, 3, 2], <span class="s4">inf</span>));</p>
<p class="p4">a.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.125, <span class="s7">\degree</span>, <span class="s4">Pseq</span>(#[0, 5, 4, 3] + 1, 1));</p>
<p class="p4">a.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.25, <span class="s7">\degree</span>, <span class="s4">Pseq</span>(#[0, 5, 4, 3] - 1, 1));</p>
<p class="p2"><br></p>
<p class="p4">a.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.125, <span class="s7">\degree</span>, <span class="s4">Pseq</span>(#[0, 5] - 1, 1));</p>
<p class="p4">a.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.753, <span class="s7">\degree</span>, <span class="s4">Pshuf</span>(#[0, 5, 4, 3, 2], <span class="s4">inf</span>));</p>
<p class="p2"><br></p>
<p class="p4">x.stop;</p>
<p class="p4">m.stop;</p>
<p class="p2"><br></p>
<p class="p6">// EventPatternProxy can be used in multiple patterns</p>
<p class="p2"><br></p>
<p class="p4">(</p>
<p class="p4">x = <span class="s4">Ppar</span>([</p>
<p class="p7"><span class="s6"><span class="Apple-tab-span">	</span></span>Pbindf<span class="s6">(</span>Pn<span class="s6">(a, </span>inf<span class="s6">),</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s7">\gtranspose</span>, <span class="s4">Pstutter</span>(8, <span class="s4">Pseq</span>(#[0, 2, 0, 3],<span class="s4">inf</span>))</p>
<p class="p4"><span class="Apple-tab-span">	</span>),</p>
<p class="p7"><span class="s6"><span class="Apple-tab-span">	</span></span>Pbindf<span class="s6">(</span>Pn<span class="s6">(a, </span>inf<span class="s6">),</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s7">\gtranspose</span>, <span class="s4">Pstutter</span>(8, <span class="s4">Pseq</span>(#[7, 4, 0, 3],<span class="s4">inf</span>)),<span class="Apple-converted-space"> </span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s7">\dur</span>, 0.6</p>
<p class="p4"><span class="Apple-tab-span">	</span>),</p>
<p class="p7"><span class="s6"><span class="Apple-tab-span">	</span></span>Pbindf<span class="s6">(</span>Pn<span class="s6">(a, </span>inf<span class="s6">),</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s7">\degree</span>, <span class="s4">Pseq</span>(#[0, 5, 4, 3, 2, 3, 2], 1)</p>
<p class="p4"><span class="Apple-tab-span">	</span>)</p>
<p class="p4">]).play;</p>
<p class="p4">)</p>
<p class="p2"><br></p>
<p class="p4">a.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.1, <span class="s7">\degree</span>, <span class="s4">Pseq</span>(#[0, 1, 0, 1, 2], <span class="s4">inf</span>));</p>
<p class="p2"><br></p>
<p class="p4">a.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.2, <span class="s7">\degree</span>, <span class="s4">Pseq</span>([0, 4], <span class="s4">inf</span>));</p>
<p class="p2"><br></p>
<p class="p4">a.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.2, <span class="s7">\degree</span>, <span class="s4">Pseq</span>([0, 4, <span class="s4">Prand</span>([6, 8b],2)], <span class="s4">inf</span>));</p>
<p class="p2"><br></p>
<p class="p4">a.source = <span class="s4">Pbind</span>(<span class="s7">\instrument</span>, <span class="s7">\Pdefhelp</span>, <span class="s7">\dur</span>, 0.1, <span class="s7">\degree</span>, <span class="s4">Pseq</span>(#[0, 1b, 1, 2b, 2, 3, 4b, 4, 5], <span class="s4">inf</span>));</p>
<p class="p2"><br></p>
<p class="p6"><span class="s6">a.set(</span><span class="s7">\detune</span><span class="s6">, -50); </span>// set environment</p>
<p class="p4">a.set(<span class="s7">\detune</span>, 0);</p>
<p class="p2"><br></p>
<p class="p4">x.stop;</p>
<p class="p2"><br></p>
<p class="p8"><br></p>
<p class="p8"><br></p>
<p class="p8"><br></p>
<p class="p1"><b><i>b) playing EventPatternProxy</i></b></p>
<p class="p8"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4">(</p>
<p class="p6">// load a synthdef</p>
<p class="p4">s.boot;</p>
<p class="p7">SynthDef<span class="s6">(</span><span class="s5">"gpdef"</span><span class="s6">,<span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="Apple-tab-span">	</span>{ <span class="s4">arg</span> out=0, freq=440, sustain=0.05, amp=0.1, pan;</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">var</span> env;</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>env = <span class="s4">EnvGen</span>.kr(<span class="s4">Env</span>.perc(0.01, sustain), doneAction:2) * amp;</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">Out</span>.ar(out, Pan2.ar(<span class="s4">SinOsc</span>.ar(freq, 0, env), pan))</p>
<p class="p4"><span class="Apple-tab-span">	</span>}).store;</p>
<p class="p4">)</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p4">#x, y = {<span class="s4">EventPatternProxy</span>.new} ! 2;</p>
<p class="p2"><br></p>
<p class="p6"><span class="s6">x.play; </span>// play them. A silent resting pattern is used.</p>
<p class="p4">y.play;<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p6">// assign various patterns to it:</p>
<p class="p2"><br></p>
<p class="p4">x.source = <span class="s4">Pbind</span>(<span class="s7">\dur</span>, 0.25, <span class="s7">\instrument</span>, <span class="s7">\gpdef</span>);<span class="Apple-converted-space"> </span></p>
<p class="p4">x.source = <span class="s4">Pbind</span>(<span class="s7">\dur</span>, 0.25, <span class="s7">\degree</span>, <span class="s4">Pseq</span>([3, 4, 5b, 6], <span class="s4">inf</span>), <span class="s7">\instrument</span>, <span class="s7">\gpdef</span>);</p>
<p class="p4">x.source = <span class="s4">Pbind</span>(<span class="s7">\dur</span>, 0.25, <span class="s7">\degree</span>, <span class="s4">Pseq</span>([3, 4, 5b, 6]+1, <span class="s4">inf</span>), <span class="s7">\instrument</span>, <span class="s7">\gpdef</span>);</p>
<p class="p4">y.source = <span class="s4">Pbind</span>(<span class="s7">\dur</span>, 0.25, <span class="s7">\degree</span>, <span class="s4">Pseq</span>([3, 4, 5b, 6]-1, <span class="s4">inf</span>), <span class="s7">\instrument</span>, <span class="s7">\gpdef</span>);</p>
<p class="p4">y.source = <span class="s4">Pbind</span>(<span class="s7">\dur</span>, 0.25, <span class="s7">\degree</span>, <span class="s4">Pseq</span>([3, 4, 5b]-2, <span class="s4">inf</span>), <span class="s7">\instrument</span>, <span class="s7">\gpdef</span>);</p>
<p class="p2"><br></p>
<p class="p6">// using fadeTime:</p>
<p class="p2"><br></p>
<p class="p4">y.fadeTime = 8.0;</p>
<p class="p4">y.source = <span class="s4">Pbind</span>(<span class="s7">\dur</span>, 0.125, <span class="s7">\degree</span>, <span class="s4">Pseq</span>([3, 4, 5b, 6]+4.rand, <span class="s4">inf</span>), <span class="s7">\instrument</span>, <span class="s7">\gpdef</span>);</p>
<p class="p4">y.source = <span class="s4">Pbind</span>(<span class="s7">\dur</span>, 0.25, <span class="s7">\degree</span>, <span class="s4">Pseq</span>([3, 4, 5b, 6]-2, <span class="s4">inf</span>), <span class="s7">\instrument</span>, <span class="s7">\gpdef</span>);</p>
<p class="p2"><br></p>
<p class="p4">(</p>
<p class="p4">x.source = <span class="s4">Pbind</span>(</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s7">\dur</span>, 1 / 6,<span class="Apple-converted-space"> </span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s7">\degree</span>, <span class="s4">Pseq</span>([3, 4, <span class="s4">Prand</span>([8, 2, 3, 9, 10],1) - 5, 6]+1, <span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="s6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>\instrument<span class="s6">, </span>\gpdef</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p4"><span class="Apple-tab-span">	</span>);</p>
<p class="p4">)</p>
<p class="p4">(</p>
<p class="p4">x.source = <span class="s4">Pbind</span>(</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s7">\dur</span>, 0.25,<span class="Apple-converted-space"> </span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s7">\degree</span>, <span class="s4">Pseq</span>([3, 4, <span class="s4">Prand</span>([8, 2, 3, 9, 10],1), 6], <span class="s4">inf</span>),<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="s6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>\instrument<span class="s6">, </span>\gpdef<span class="s6">)</span></p>
<p class="p4"><span class="Apple-tab-span">	</span>);</p>
<p class="p4">)</p>
<p class="p4">x.stop;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p6">// tempo change</p>
<p class="p4"><span class="s4">TempoClock</span>.default.tempo = 1.3;</p>
<p class="p4">y.source = <span class="s4">Pbind</span>(<span class="s7">\dur</span>, 0.25, <span class="s7">\degree</span>, <span class="s4">Pseq</span>([3, 4, 5, 6]+1, <span class="s4">inf</span>), <span class="s7">\instrument</span>, <span class="s7">\gpdef</span>);</p>
<p class="p2"><br></p>
<p class="p6">// drop in ending patterns</p>
<p class="p2"><br></p>
<p class="p4">x.play;</p>
<p class="p4">x.fadeTime = <span class="s4">nil</span>;</p>
<p class="p2"><br></p>
<p class="p4">x.source = <span class="s4">Pbind</span>(<span class="s7">\dur</span>, 0.25, <span class="s7">\degree</span>, <span class="s4">Pseq</span>([3, [7,4], 5, 6]-2), <span class="s7">\instrument</span>, <span class="s7">\gpdef</span>);</p>
<p class="p4">x.source = <span class="s4">Pbind</span>(<span class="s7">\dur</span>, 0.125, <span class="s7">\degree</span>, <span class="s4">Pseq</span>([3, [7,4], 5, 4]-3), <span class="s7">\instrument</span>, <span class="s7">\gpdef</span>);</p>
<p class="p4">x.source = <span class="s4">Pbind</span>(<span class="s7">\dur</span>, 0.35, <span class="s7">\degree</span>, <span class="s4">Pseq</span>([3, [7,4], 5, 4, 3]-3), <span class="s7">\instrument</span>, <span class="s7">\gpdef</span>);</p>
<p class="p4">x.source = <span class="s4">Pbind</span>(<span class="s7">\dur</span>, 0.25, <span class="s7">\degree</span>, <span class="s4">Pshuf</span>([3, [7,4], 5, 6]-2), <span class="s7">\instrument</span>, <span class="s7">\gpdef</span>);</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p4"><span class="s4">TempoClock</span>.default.tempo = 1.0;</p>
<p class="p4">x.stop;</p>
<p class="p4">y.stop;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
</body>
</html>
