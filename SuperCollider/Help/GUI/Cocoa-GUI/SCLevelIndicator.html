<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.43">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #001bec}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p6 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p8 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p9 {margin: 0.0px 0.0px 0.0px 85.0px; text-indent: -85.0px; font: 12.0px Helvetica}
p.p10 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p12 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #9f2423}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #606060}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #0049f3}
span.s3 {color: #000000}
span.s4 {text-decoration: underline}
span.s5 {color: #6f7178}
span.s6 {color: #0016bd}
span.s7 {color: #003cf7}
span.s8 {color: #0032b5}
span.s9 {color: #0020bb}
span.s10 {color: #3c6d00}
span.s11 {color: #9f2423}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>SCLevelIndicator<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>a level indicator GUI widget</b><span class="s1"><b><span class="Apple-tab-span">	</span></b></span></p>
<p class="p2"><br></p>
<p class="p1"><b>Inherits from: </b><a href="../../Core/Object.html"><span class="s2"><b>Object</b></span></a><b> : </b><a href="SCView.html"><span class="s2"><b>SCView</b></span></a></p>
<p class="p3"><br></p>
<p class="p1">A level indicator view, suitable for use as a level or peak meter, etc.</p>
<p class="p2"><br></p>
<p class="p4"><span class="s3"><b>See also:</b> <a href="SCRangeSlider.html"><span class="s4">SCRangeSlider</span></a></span></p>
<p class="p2"><br></p>
<p class="p5"><b>Creation / Class Methods</b></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>*new (parent, bounds)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>parent </b>- The parent view.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>bounds </b>- An instance of <a href="../../Geometry/Rect.html"><span class="s5">Rect</span></a>, or a <a href="../../Geometry/Point.html"><span class="s5">Point</span></a> indicating width@height.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s6">Window</span>.new.front;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = <span class="s6">SCLevelIndicator</span>(w, <span class="s6">Rect</span>(10, 10, 20, 160));</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p12"><b>Accessing Instance and Class Variables</b></p>
<p class="p8"><span class="Apple-tab-span">	</span></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>value</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Gets the current level of the view.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>value_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Sets the current level of the view</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- A <a href="../../Math/Float.html"><span class="s7">Float</span></a> between 0 and 1.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>valueAction_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>As value but calls the action function. Currently not used.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- A <a href="../../Math/Float.html"><span class="s7">Float</span></a> between 0 and 1.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>warning_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Styles 0 and 2 (see below) implement a warning display. If critical is &gt; <b>warning</b> the view will turn yellow if <b>value</b> is &gt;= to <b>val</b>. If critical is &lt;= <b>warning</b> the view will turn yellow if <b>value</b> is &lt;= to <b>val</b>. If <b>drawsPeak</b> is true warning will be displayed based on <b>peakLevel </b>rather than <b>value</b>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- A <a href="../../Math/Float.html"><span class="s7">Float</span></a> between 0 and 1.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s6">Window</span>.new.front;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = <span class="s6">SCLevelIndicator</span>(w, <span class="s6">Rect</span>(10, 10, 20, 160));</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.value = 0.5;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.warning = 0.6; a.critical = 0.9;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.value = 0.7;</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>critical_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Styles 0 and 2 (see below) implement a critical display. If critical is &gt; <b>warning</b> the view will turn red if <b>value</b> is &gt;= to <b>val</b>. If critical is &lt;= <b>warning</b> the view will turn yellow if <b>value</b> is &lt;= to <b>val</b>. If <b>drawsPeak</b> is true critical will be displayed based on <b>peakLevel </b>rather than <b>value</b>.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- A <a href="../../Math/Float.html"><span class="s7">Float</span></a> between 0 and 1.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s6">Window</span>.new.front;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = <span class="s6">SCLevelIndicator</span>(w, <span class="s6">Rect</span>(10, 10, 20, 160));</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.style = 2;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.numSteps = 10;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.value = 0.5;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.warning = 0.6; a.critical = 0.9;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.value = 1;</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>style_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Sets the style of the view</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- An <a href="../../Math/Integer.html"><span class="s7">Integer</span></a> from 0 to 3. 0 = colored bar; 1 = graduated black lines; 2 = LED style (see <b>numSteps_</b>); 3 = LED style with custom image (see <b>image_</b>).</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s8">Window</span>.new.front;</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w.addFlowLayout;</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>4.do({|i|</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = <span class="s8">SCLevelIndicator</span>(w, <span class="s8">Rect</span>(0, 0, 20, 200));</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.style = i;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.numSteps = 10;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.value = 0.5;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>numSteps_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The number of steps used in styles 2 and 3. (See <b>style_</b>)</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- A positive <a href="../../Math/Integer.html"><span class="s7">Integer</span></a>.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s8">Window</span>.new.front;</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = <span class="s8">SCLevelIndicator</span>(w, <span class="s8">Rect</span>(10, 10, 200, 20));</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.style = 2;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.value = 1;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.numSteps = 10;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.numSteps = 20;</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>image_ (image)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Sets the image used in style 3. See below for an example.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>image </b>- An <a href="SCImage/SCImage.html"><span class="s7">SCImage</span></a>. The default image is the SC cube.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>numTicks_ (ticks)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The number of ticks to display in the view's scale.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>ticks </b>- An <a href="../../Math/Integer.html"><span class="s7">Integer</span></a> &gt;= 0.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s8">Window</span>.new.front;</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w.view.background = Color.black;</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = <span class="s8">SCLevelIndicator</span>(w, <span class="s8">Rect</span>(10, 10, 300, 30));</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.numTicks = 11;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.value = 0.5;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>numMajorTicks_ (ticks)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The number of ticks in the view's scale which will be larger.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>ticks </b>- An <a href="../../Math/Integer.html"><span class="s7">Integer</span></a> &gt;= 0.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s8">Window</span>.new.front;</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w.view.background = Color.black;</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = <span class="s8">SCLevelIndicator</span>(w, <span class="s8">Rect</span>(10, 10, 300, 30));</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.numTicks = 11;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.numMajorTicks = 3;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.value = 0.5;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>drawsPeak_ (bool)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Determines whether the view draws a separate peak display. This can be useful for displaying both peak and RMS values. If <b>drawsPeak</b> is true <b>warning</b> and <b>critical </b>(see above) will be displayed based on <b>peakLevel </b>rather than <b>value</b> in styles 0 and 2.</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>bool </b>- A <a href="../../Core/Boolean.html"><span class="s7">Boolean</span></a>. The default is false.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s9">Window</span>.new.front;</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = <span class="s9">SCLevelIndicator</span>(w, <span class="s9">Rect</span>(10, 10, 300, 30));</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.drawsPeak = <span class="s9">true</span>;</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.style = 1;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.value = 0.5;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.peakLevel = 0.6;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7"><b><span class="Apple-tab-span">	</span>peakLevel_ (val)</b></p>
<p class="p8"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Sets the level of the peak display. (See <b>drawsPeak_</b>)</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>val </b>- A <a href="../../Math/Float.html"><span class="s7">Float</span></a> between 0 and 1.</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>w = <span class="s9">Window</span>.new.front;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a = <span class="s9">SCLevelIndicator</span>(w, <span class="s9">Rect</span>(10, 10, 20, 160));</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.drawsPeak = <span class="s9">true</span>;</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.peakLevel = 0.6)</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p12"><b>Examples</b></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p11">s.boot;</p>
<p class="p3"><br></p>
<p class="p13">// something to meter</p>
<p class="p11">(</p>
<p class="p14"><span class="s3">b = </span><span class="s9">Buffer</span><span class="s3">.read(s, </span>"sounds/a11wlk01.wav"<span class="s3">);<span class="Apple-tab-span">	</span></span></p>
<p class="p11">x = { <span class="s9">var</span> colum, noise, imp, delimp, mul = 1;</p>
<p class="p11"><span class="Apple-tab-span">	</span>imp = <span class="s9">Impulse</span>.kr(10);</p>
<p class="p11"><span class="Apple-tab-span">	</span>delimp = <span class="s9">Delay1</span>.kr(imp);</p>
<p class="p11"><span class="Apple-tab-span">	</span>colum = <span class="s9">PlayBuf</span>.ar(1, b, <span class="s9">BufRateScale</span>.kr(b), loop: 1) * mul;</p>
<p class="p13"><span class="s3"><span class="Apple-tab-span">	</span></span>// measure rms and Peak</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="s9">SendReply</span>.kr(imp, <span class="s10">'/levels'</span>, [<span class="s9">Amplitude</span>.kr(colum), <span class="s9">K2A</span>.ar(<span class="s9">Peak</span>.ar(colum, delimp).lag(0, 3))]);</p>
<p class="p11"><span class="Apple-tab-span">	</span>colum;</p>
<p class="p11">}.play;</p>
<p class="p11">)</p>
<p class="p3"><br></p>
<p class="p13">// a window and responder</p>
<p class="p13">// default style is coloured / solid</p>
<p class="p11">(</p>
<p class="p11">w = <span class="s9">Window</span>.new.front;</p>
<p class="p11">a = <span class="s9">SCLevelIndicator</span>(w, <span class="s9">Rect</span>(10, 10, 20, 160));</p>
<p class="p11">o = <span class="s9">OSCresponder</span>(s.addr, <span class="s10">'/levels'</span>, {<span class="s9">arg</span> time, resp, msg;</p>
<p class="p11"><span class="Apple-tab-span">	</span>{</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.value = msg[3].ampdb.linlin(-40, 0, 0, 1);</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>a.peakLevel = msg[4].ampdb.linlin(-40, 0, 0, 1);</p>
<p class="p11"><span class="Apple-tab-span">	</span>}.defer;</p>
<p class="p11">}).add;</p>
<p class="p11">w.onClose = {o.remove; x.free};</p>
<p class="p11">)</p>
<p class="p3"><br></p>
<p class="p13">// styles 0 and 2 support warning and critical levels</p>
<p class="p11">(</p>
<p class="p11">a.warning = -6.dbamp;</p>
<p class="p11">a.critical = -3.dbamp;</p>
<p class="p11">)</p>
<p class="p3"><br></p>
<p class="p13">// optionally show peak level</p>
<p class="p11">(</p>
<p class="p11">a.warning = 0;</p>
<p class="p11">a.critical = 0;</p>
<p class="p11">a.drawsPeak = <span class="s9">true</span>;</p>
<p class="p11">)</p>
<p class="p3"><br></p>
<p class="p13">// style 1 is black bars</p>
<p class="p11">a.style = 1</p>
<p class="p3"><br></p>
<p class="p13">// looks good with a background</p>
<p class="p11">a.background = <span class="s9">Gradient</span>(<span class="s9">Color</span>.red, <span class="s9">Color</span>.green, <span class="s10">\v</span>);</p>
<p class="p3"><br></p>
<p class="p13">// all styles can have ticks</p>
<p class="p11">(</p>
<p class="p11">a.background = <span class="s9">Color</span>.clear;</p>
<p class="p11">a.numTicks = 11; <span class="s11">// includes 0;</span></p>
<p class="p11">a.numMajorTicks = 3;<span class="Apple-tab-span">	</span></p>
<p class="p11">)</p>
<p class="p3"><br></p>
<p class="p13">// style 2 is LED</p>
<p class="p11">(</p>
<p class="p11">a.drawsPeak = <span class="s9">false</span>;</p>
<p class="p11">a.style = 2;</p>
<p class="p11">a.numSteps = 10;</p>
<p class="p11">a.numTicks = 0;</p>
<p class="p11">)</p>
<p class="p3"><br></p>
<p class="p13">// style 3 is as 2, but with images</p>
<p class="p13"><span class="s3">a.style = 3; </span>// use default image</p>
<p class="p3"><br></p>
<p class="p13">// make a custom image</p>
<p class="p11">(</p>
<p class="p11">j = <span class="s9">SCImage</span>.new(20,20);</p>
<p class="p11">j.draw({ <span class="s9">arg</span> image;</p>
<p class="p11"><span class="s9">var</span> lozenge;</p>
<p class="p11">lozenge = <span class="s9">Rect</span>(3, 3, 16, 16);</p>
<p class="p11"><span class="s9">Pen</span>.addOval(lozenge);</p>
<p class="p11"><span class="s9">Pen</span>.fillAxialGradient(1@1, 19@19, <span class="s9">Color</span>.new255(255, 165, 0), <span class="s9">Color</span>.new255(238, 232, 170));</p>
<p class="p11"><span class="s9">Pen</span>.width = 1;</p>
<p class="p11"><span class="s9">Pen</span>.strokeColor = <span class="s9">Color</span>.blue;</p>
<p class="p11"><span class="s9">Pen</span>.strokeOval(lozenge);</p>
<p class="p11">});</p>
<p class="p11">a.image = j;</p>
<p class="p11">)</p>
<p class="p3"><br></p>
<p class="p13">// be inspired</p>
<p class="p14"><span class="s3">j = </span><span class="s9">SCImage</span><span class="s3">.openURL(</span>"http://tinyurl.com/7lj55f"<span class="s3">);</span></p>
<p class="p3"><br></p>
<p class="p11">(</p>
<p class="p11">a.bounds = <span class="s9">Rect</span>(10, 10, 380, 80);</p>
<p class="p11">a.numSteps = 5;</p>
<p class="p11">a.image = j;</p>
<p class="p11">)</p>
<p class="p3"><br></p>
</body>
</html>
