<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.43">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #001ee6}
p.p4 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p6 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p7 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p8 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #606060}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #3e3c36; min-height: 12.0px}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #000000}
span.s3 {text-decoration: underline}
span.s4 {color: #696f8e}
span.s5 {font: 14.0px Helvetica}
span.s6 {color: #0000bf}
span.s7 {color: #007300}
span.s8 {font: 11.0px Monaco}
span.s9 {color: #606060}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>SCDragView<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>an abstract superclass for drag views</b><span class="s1"><b><span class="Apple-tab-span">	</span></b></span></p>
<p class="p2"><br></p>
<p class="p3"><span class="s2"><b>Inherits from: </b><a href="../../Core/Object.html"><b>Object</b></a><b> : </b><a href="SCView.html"><b>SCView</b></a><b> : </b><a href="SCStaticTextBase.html"><b>SCStaticTextBase</b></a></span></p>
<p class="p2"><br></p>
<p class="p3"><span class="s2"><b>See also:</b> <a href="SCDragSource.html"><span class="s3">SCDragSource</span></a>, <a href="SCDragSink.html"><span class="s3">SCDragSink</span></a>, <a href="SCDragBoth.html"><span class="s3">SCDragBoth</span></a></span></p>
<p class="p2"><br></p>
<p class="p1">Users will not normally directly create instances of SCDragView, but only use it through its subclasses. The three subclasses, SCDragSource, SCDragSink, SCDragBoth, all function basically the same way: they are simple, graphically represented rectangles, which act as a drag-source, a drag target, or both. Their dragging behavior only differs from other GUI views, in that they do not require the cmd key to be held down for dragging. All other dragging functions are those defined by <a href="SCView.html"><span class="s4">SCView</span></a>. They inherit from <a href="SCStaticTextBase.html"><span class="s4">SCStaticTextBase</span></a>, and thus store their content in <b>object</b> and by default display their content using <b>asString</b>. You can keep their string independent of the content, if you set <b>setBoth</b>=false. You can also set a label to be displayed while dragging by using <b>dragLabel_()</b>.</p>
<p class="p4"><br></p>
<p class="p5"><b>Subclassing and Internal Methods</b></p>
<p class="p6"><span class="s5"><span class="Apple-tab-span">	</span></span>The following methods are usually not used directly or are called by a primitive. Programmers can still call or override these as needed.</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><b><span class="Apple-tab-span">	</span>defaultGetDrag</b></p>
<p class="p7"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The method called by default when initiating a drag. Returns <b>object</b> .</p>
<p class="p4"><br></p>
<p class="p5"><b>Examples</b></p>
<p class="p8"><br></p>
<p class="p9">(</p>
<p class="p10"><span class="s2">s.waitForBoot({<span class="Apple-tab-span">	</span></span>//only needed if you are using sound</p>
<p class="p9"><span class="Apple-tab-span">	</span>w=<span class="s6">Window</span>.new.front;</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>// store various kinds of objects in the drag source</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>// a string source</p>
<p class="p9"><span class="Apple-tab-span">	</span>a=<span class="s6">DragSource</span>(w,<span class="s6">Rect</span>(10,10,150,20)).align_(<span class="s7">\center</span>);</p>
<p class="p12"><span class="s2"><span class="Apple-tab-span">	</span>a.object=</span>"I am a string source"<span class="s2">;</span></p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>// a Float source</p>
<p class="p9"><span class="Apple-tab-span">	</span>b=<span class="s6">DragSource</span>(w,<span class="s6">Rect</span>(10,40,150,20)).align_(<span class="s7">\center</span>);</p>
<p class="p9"><span class="Apple-tab-span">	</span>b.object=2.234;</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>// a Point source</p>
<p class="p9"><span class="Apple-tab-span">	</span>c=<span class="s6">DragSource</span>(w,<span class="s6">Rect</span>(10,70,150,20)).align_(<span class="s7">\center</span>);</p>
<p class="p9"><span class="Apple-tab-span">	</span>c.object=<span class="s6">Point</span>(20,30);</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>// A sound function source</p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>// dragLabel_() is used for the label while dragging</p>
<p class="p9"><span class="Apple-tab-span">	</span>d=<span class="s6">DragSource</span>(w,<span class="s6">Rect</span>(10,100,150,20)).align_(<span class="s7">\center</span>);</p>
<p class="p9"><span class="Apple-tab-span">	</span>d.object={<span class="s6">Synth</span>(<span class="s7">\default</span>)};</p>
<p class="p12"><span class="s2"><span class="Apple-tab-span">	</span>d.dragLabel=</span>" I am a sound function.\n My dragLabel_() is set \n to inform you about that "<span class="s2">;</span></p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>// A sound function source</p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>//here the string label is independent of the content type (Function)</p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>// dragLabel_() is used for the label while dragging</p>
<p class="p9"><span class="Apple-tab-span">	</span>f=<span class="s6">DragSource</span>(w,<span class="s6">Rect</span>(10,130,150,20)).align_(<span class="s7">\center</span>).setBoth_(<span class="s6">false</span>);</p>
<p class="p9"><span class="Apple-tab-span">	</span>f.object={{<span class="s6">SinOsc</span>.ar(440,0,0.4)}.play};</p>
<p class="p12"><span class="s2"><span class="Apple-tab-span">	</span>f.string=</span>"My label is independent"<span class="s2">;</span></p>
<p class="p12"><span class="s2"><span class="Apple-tab-span">	</span>f.dragLabel=</span>" My dragLabel_() says \n I am dragging a sound function "<span class="s2">;</span></p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>// receive anthing</p>
<p class="p9"><span class="Apple-tab-span">	</span>g=<span class="s6">DragSink</span>(w,<span class="s6">Rect</span>(170,10,200,20)).align_(<span class="s7">\center</span>);</p>
<p class="p12"><span class="s2"><span class="Apple-tab-span">	</span>g.string=</span>"recieve anything, do nothing"<span class="s2">;</span></p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>// receive only floats</p>
<p class="p9"><span class="Apple-tab-span">	</span>g=<span class="s6">DragSink</span>(w,<span class="s6">Rect</span>(170,40,200,20)).align_(<span class="s7">\center</span>);</p>
<p class="p12"><span class="s2"><span class="Apple-tab-span">	</span>g.string=</span>"I only like floats"<span class="s2">;</span></p>
<p class="p9"><span class="Apple-tab-span">	</span>g<span class="s8">.</span>canReceiveDragHandler = { <span class="s6">View</span>.currentDrag.isFloat };</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>// receive only numbers and points, and convert them to rects</p>
<p class="p9"><span class="Apple-tab-span">	</span>h=<span class="s6">DragSink</span>(w,<span class="s6">Rect</span>(170,70,200,20)).align_(<span class="s7">\center</span>);</p>
<p class="p12"><span class="s2"><span class="Apple-tab-span">	</span>h.string=</span>"I convert to Rect"<span class="s2">;</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="s8">h.</span>canReceiveDragHandler = {<span class="s6">View</span>.currentDrag.isKindOf(<span class="s6">Number</span>)||<span class="s6">View</span>.currentDrag.isKindOf(<span class="s6">Point</span>)};</p>
<p class="p9"><span class="Apple-tab-span">	</span>h.receiveDragHandler={<span class="s6">arg</span> v; h.object=<span class="s6">View</span>.currentDrag.asRect};</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s2"><span class="Apple-tab-span">	</span></span>// receive only functions, and try to play them</p>
<p class="p9"><span class="Apple-tab-span">	</span>i=<span class="s6">DragSink</span>(w,<span class="s6">Rect</span>(170,100,200,20)).align_(<span class="s7">\center</span>);</p>
<p class="p12"><span class="s2"><span class="Apple-tab-span">	</span>i.string=</span>"I evaluate a (sound) function"<span class="s2">;</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="s8">i.</span>canReceiveDragHandler = {<span class="s6">View</span>.currentDrag.isKindOf(<span class="s6">Function</span>)};</p>
<p class="p9"><span class="Apple-tab-span">	</span>i.receiveDragHandler={<span class="s6">arg</span> v;</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>i.object=<span class="s6">View</span>.currentDrag.value;</p>
<p class="p12"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>i.string=</span>"click here for silence"<span class="s2">;</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>i.background_(<span class="s6">Color</span>.red)};</p>
<p class="p9"><span class="Apple-tab-span">	</span>i.mouseDownAction_({i.object.free;i.string=<span class="s9">"I evaluate a (sound) function"</span>;i.background_(<span class="s6">Color</span>.clear)});</p>
<p class="p11"><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="s6">StaticText</span>(w,<span class="s6">Rect</span>(10,200,380,50))</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.stringColor_(<span class="s6">Color</span>.white)</p>
<p class="p12"><span class="s2"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>.string_(</span>"Try dragging any item on the left -----&gt; to any item on the right"<span class="s2">);</span></p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9">});</p>
<p class="p9">)</p>
<p class="p11"><br></p>
<p class="p11"><br></p>
<p class="p13"><br></p>
<p class="p13"><br></p>
</body>
</html>
