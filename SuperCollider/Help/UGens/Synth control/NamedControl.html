<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.43">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica}
p.p6 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p8 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p12 {margin: 0.0px 0.0px 0.0px 57.0px; text-indent: -57.0px; font: 14.0px Helvetica; min-height: 17.0px}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
span.s1 {font: 18.0px Helvetica}
span.s2 {color: #0000ff}
span.s3 {color: #0000bf}
span.s4 {color: #007300}
span.s5 {color: #000000}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>NamedControl</b></span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>named reference to a control</b></p>
<p class="p2"><br></p>
<p class="p1"><b>Inherits from: </b><a href="../../Core/Object.html"><span class="s2">Object</span></a></p>
<p class="p2"><br></p>
<p class="p1">A NamedControl directly combines a <a href="ControlName.html"><span class="s2">ControlName</span></a> and a <a href="Control.html"><span class="s2">Control</span></a> UGen conveniently. Also this makes it safe even if several identical controls exist (see example below).</p>
<p class="p2"><br></p>
<p class="p1">There are syntax shortcuts that generate NamedControls from the name:</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span>\name.ar(values, lags)</p>
<p class="p1"><span class="Apple-tab-span">	</span>\name.kr(values, lags, fixedLag)</p>
<p class="p1"><span class="Apple-tab-span">	</span>\name.ir(values, lags)</p>
<p class="p1"><span class="Apple-tab-span">	</span>\name.tr(values, lags)</p>
<p class="p2"><br></p>
<p class="p3"><b>Class Methods</b></p>
<p class="p4"><b></b><br></p>
<p class="p5"><b>*ar(name, values, lags)</b></p>
<p class="p5"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>add a new instance of AudioControl with given <b>name</b> and default <b>values</b>.<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If <b>lags</b> are given, apply a <a href="../Filters/Lag.html"><span class="s2">Lag</span></a> UGen to it.</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>\symbol.ar(values, lags)</b> is a synonym.</p>
<p class="p2"><br></p>
<p class="p5"><b>*kr(name, values, lags, fixedLag)</b></p>
<p class="p5"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>add a new instance of <a href="Control.html"><span class="s2">Control</span></a> (kr) with given <b>name</b> and default <b>values</b>.<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If <b>lags</b> are given, apply a <a href="../Filters/Lag.html"><span class="s2">Lag</span></a> UGen to it. If <b>fixedLag</b> is set to true, create a LagControl<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(lags cannot be modulated then, but fewer UGens are required).</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>\symbol.kr(values, lags, fixedLag)</b> is a synonym.</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p5"><b>*ir(name, values, lags)</b></p>
<p class="p5"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>add a new instance of <a href="Control.html"><span class="s2">Control</span></a> (ir) with given <b>name</b> and default <b>values</b>.<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If <b>lags</b> are given, apply a <a href="../Filters/Lag.html"><span class="s2">Lag</span></a> UGen to it.</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>\symbol.ir(values, lags)</b> is a synonym.</p>
<p class="p2"><br></p>
<p class="p5"><b>*tr(name, values, lags)</b></p>
<p class="p5"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>add a new instance of TrigControl with given <b>name</b> and default <b>values</b>.<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If <b>lags</b> are given, apply a <a href="../Filters/Lag.html"><span class="s2">Lag</span></a> UGen to it.</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><b>\symbol.tr(values, lags)</b> is a synonym.</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p5"><b>*new(name, values, rate, lags, fixedLag)</b></p>
<p class="p5"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>add a new instance with the given <b>rate</b>, <b>name</b> and default <b>values</b>.</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>If <b>lags</b> are given, apply a <a href="../Filters/Lag.html"><span class="s2">Lag</span></a> UGen to it. If <b>fixedLag</b> is set to true, create a LagControl<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(lags cannot be modulated then, but fewer UGens are required).</p>
<p class="p6"><br></p>
<p class="p2"><br></p>
<p class="p7"><br></p>
<p class="p8"><b>Examples</b></p>
<p class="p7"><br></p>
<p class="p7"><br></p>
<p class="p9">// use NamedControl to create a number of multichannel controls:</p>
<p class="p10"><br></p>
<p class="p11">a = { <span class="s3">SinOsc</span>.ar(<span class="s3">NamedControl</span>.kr(<span class="s4">\freq</span>, [300, 330, 370], [1, 0.3, 0.02])).sum * 0.1 }.play;</p>
<p class="p11">a.setn(<span class="s4">\freq</span>, [700, 705, 890]);</p>
<p class="p11">a.setn(<span class="s4">\freq</span>, [0, 2, 5].midiratio * 400);</p>
<p class="p10"><br></p>
<p class="p9">// synonymous:</p>
<p class="p11">a = { <span class="s3">SinOsc</span>.ar(<span class="s4">\freq</span>.kr([300, 330, 370], [1, 0.3, 0.02])).sum * 0.1 }.play;</p>
<p class="p10"><br></p>
<p class="p9">// multiple usage of the same name:</p>
<p class="p11">a = { <span class="s3">SinOsc</span>.ar(<span class="s4">\freq</span>.kr(440, 3.5)) + <span class="s3">Saw</span>.ar(<span class="s4">\freq</span>.kr(440, 0.05) * 0.5) * 0.1 }.play;</p>
<p class="p10"><br></p>
<p class="p10"><br></p>
<p class="p11">a.set(<span class="s4">\freq</span>, 1220)</p>
<p class="p11">a.set(<span class="s4">\freq</span>, 120)</p>
<p class="p10"><br></p>
<p class="p12"><b></b><br></p>
<p class="p8"><b>Comparison with direct use of Controls:</b></p>
<p class="p7"><br></p>
<p class="p13">In the situation when functions are used to combine UGens to more complex SynthDefs, it may not be known which ControlNames are already taken by others. NamedControl allows to reuse existing control names.<span class="Apple-converted-space"> </span></p>
<p class="p7"><br></p>
<p class="p9">// compare:</p>
<p class="p11">(</p>
<p class="p11">a = {</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="s3">var</span> x, y;</p>
<p class="p11"><span class="Apple-tab-span">	</span>x = <span class="s3">NamedControl</span>.kr(<span class="s4">\freq</span>, 440, 3.5);</p>
<p class="p11"><span class="Apple-tab-span">	</span>y = <span class="s3">NamedControl</span>.kr(<span class="s4">\freq</span>, 440, 1);</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="s3">SinOsc</span>.ar([x, y] * [2, 1.2]) * 0.1</p>
<p class="p11">}.play;</p>
<p class="p11">)</p>
<p class="p10"><br></p>
<p class="p11">a.set(<span class="s4">\freq</span>, 1220)</p>
<p class="p11">a.set(<span class="s4">\freq</span>, 120)</p>
<p class="p10"><br></p>
<p class="p11">(</p>
<p class="p11">a = {</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="s3">var</span> x, y;</p>
<p class="p11"><span class="Apple-tab-span">	</span>x = <span class="s3">Control</span>.names([<span class="s4">\freq</span>]).kr(440).lag(3.5);</p>
<p class="p11"><span class="Apple-tab-span">	</span>y = <span class="s3">Control</span>.names([<span class="s4">\freq</span>]).kr(440).lag(1);</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="s3">SinOsc</span>.ar([x, y] * [2, 1.2]) * 0.1</p>
<p class="p11">}.play;</p>
<p class="p11">)</p>
<p class="p10"><br></p>
<p class="p11">a.set(<span class="s4">\freq</span>, 1220)</p>
<p class="p11">a.set(<span class="s4">\freq</span>, 120)</p>
<p class="p10"><br></p>
<p class="p10"><br></p>
<p class="p10"><br></p>
<p class="p9">// Here is a basic example using a dictionary<span class="Apple-converted-space"> </span></p>
<p class="p9">// with functions that can be combined to build SynthDefs.</p>
<p class="p7"><br></p>
<p class="p13">(</p>
<p class="p11">q = ();</p>
<p class="p11">q.makeEnv = { <span class="s3">|q, env, doneAction = 0|</span> <span class="s3">EnvGen</span>.kr(env, <span class="s3">NamedControl</span>.kr(<span class="s4">\gate</span>, 1), doneAction: doneAction) };</p>
<p class="p11">q.chooseNoise = { [ {<span class="s3">PinkNoise</span>.ar}, {<span class="s3">WhiteNoise</span>.ar}, {<span class="s3">LFNoise2</span>.ar(<span class="s3">Rand</span>(100, 1000))}].choose.value};</p>
<p class="p11">q.filterInput = { <span class="s3">|q, in|</span> [<span class="Apple-converted-space"> </span></p>
<p class="p11"><span class="Apple-tab-span">	</span>{ <span class="s3">BPF</span>.ar(in * 15, <span class="s3">NamedControl</span>.kr(<span class="s4">\freq</span>, 800), 0.2) },<span class="Apple-converted-space"> </span></p>
<p class="p11"><span class="Apple-tab-span">	</span>{ R<span class="s3">HPF</span>.ar(in, <span class="s3">NamedControl</span>.kr(<span class="s4">\freq</span>, 800, 0.2)<span class="s5">, 0.2</span>) }</p>
<p class="p11"><span class="Apple-tab-span">	</span>].choose.value</p>
<p class="p11">};</p>
<p class="p13">)</p>
<p class="p7"><br></p>
<p class="p9">// test the envelope:</p>
<p class="p11">a = { <span class="s3">SinOsc</span>.ar(440) * q.makeEnv(<span class="s3">Env</span>.asr, 2) * 0.1 }.play;</p>
<p class="p9"><span class="s5">a.set(</span><span class="s4">\gate</span><span class="s5">, -3); </span>// release in 3 seconds</p>
<p class="p7"><br></p>
<p class="p9">// single channel:</p>
<p class="p11">a = { q.chooseNoise * q.makeEnv(<span class="s3">Env</span><span class="s5">.asr, 2</span>) }.play;</p>
<p class="p9"><span class="s5">a.set(</span><span class="s4">\gate</span><span class="s5">, -3); </span>// release in 3 seconds</p>
<p class="p7"><br></p>
<p class="p13">a = { q.filterInput(q.chooseNoise) * q.makeEnv(Env.asr, 2) }.play;</p>
<p class="p9"><span class="s5">a.set(</span><span class="s4">\freq</span><span class="s5">, 1000); </span>// set filter frequency</p>
<p class="p9"><span class="s5">a.set(</span><span class="s4">\gate</span><span class="s5">, -3); </span>// release in 3 seconds</p>
<p class="p7"><br></p>
<p class="p13">(</p>
<p class="p11">a = {</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="s3">var</span> channels = <span class="s3">Array</span>.fill(8, {</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>q.filterInput(q.chooseNoise) * <span class="s5">q.makeEnv(</span><span class="s3">Env</span><span class="s5">.asr, 2)</span></p>
<p class="p11"><span class="Apple-tab-span">	</span>});</p>
<p class="p11"><span class="Apple-tab-span">	</span><span class="s3">Splay</span>.ar(channels);</p>
<p class="p10"><br></p>
<p class="p11">}.play;</p>
<p class="p13">)</p>
<p class="p9"><span class="s5">a.set(</span><span class="s4">\freq</span><span class="s5">, 6000); </span>// set filter frequency</p>
<p class="p9"><span class="s5">a.set(</span><span class="s4">\gate</span><span class="s5">, -3); </span>// release in 3 seconds</p>
<p class="p7"><br></p>
</body>
</html>
